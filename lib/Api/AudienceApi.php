<?php
/**
 * AudienceApi
 * PHP version 7.4
 *
 * @category Class
 * @package  AirEml
 * @author   OpenAPI Generator team
 * @link     https://openapi-generator.tech
 */

/**
 * airEml - API
 *
 * airEml - API
 *
 * The version of the OpenAPI document: 1.0.0
 * Generated by: https://openapi-generator.tech
 * OpenAPI Generator version: 7.2.0-SNAPSHOT
 */

/**
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */

namespace AirEml\Api;

use GuzzleHttp\Client;
use GuzzleHttp\ClientInterface;
use GuzzleHttp\Exception\ConnectException;
use GuzzleHttp\Exception\RequestException;
use GuzzleHttp\Psr7\MultipartStream;
use GuzzleHttp\Psr7\Request;
use GuzzleHttp\RequestOptions;
use AirEml\ApiException;
use AirEml\Configuration;
use AirEml\HeaderSelector;
use AirEml\ObjectSerializer;

/**
 * AudienceApi Class Doc Comment
 *
 * @category Class
 * @package  AirEml
 * @author   OpenAPI Generator team
 * @link     https://openapi-generator.tech
 */
class AudienceApi
{
    /**
     * @var ClientInterface
     */
    protected $client;

    /**
     * @var Configuration
     */
    protected $config;

    /**
     * @var HeaderSelector
     */
    protected $headerSelector;

    /**
     * @var int Host index
     */
    protected $hostIndex;

    /** @var string[] $contentTypes **/
    public const contentTypes = [
        'attachAudienceRecipientContact' => [
            'application/json',
        ],
        'attachAudienceRecipientTag' => [
            'application/json',
        ],
        'createAudienceRecipient' => [
            'application/json',
        ],
        'createAudienceSegment' => [
            'application/json',
        ],
        'createAudienceSegmentFilter' => [
            'application/json',
        ],
        'createAudienceTag' => [
            'application/json',
        ],
        'deleteAudienceRecipient' => [
            'application/json',
        ],
        'deleteAudienceRecipientContact' => [
            'application/json',
        ],
        'deleteAudienceRecipientTag' => [
            'application/json',
        ],
        'deleteAudienceSegment' => [
            'application/json',
        ],
        'deleteAudienceSegmentFilter' => [
            'application/json',
        ],
        'deleteAudienceTag' => [
            'application/json',
        ],
        'getAudienceRecipient' => [
            'application/json',
        ],
        'getAudienceSegment' => [
            'application/json',
        ],
        'getAudienceSegmentFilter' => [
            'application/json',
        ],
        'getAudienceTag' => [
            'application/json',
        ],
        'listAudienceRecipientSegments' => [
            'application/json',
        ],
        'listAudienceRecipients' => [
            'application/json',
        ],
        'listAudienceSegmentFilters' => [
            'application/json',
        ],
        'listAudienceSegments' => [
            'application/json',
        ],
        'listAudienceTags' => [
            'application/json',
        ],
        'updateAssignActiveStatusToAudienceSegment' => [
            'application/json',
        ],
        'updateAssignInactiveStatusToAudienceSegment' => [
            'application/json',
        ],
        'updateAudienceRecipient' => [
            'application/json',
        ],
        'updateAudienceSegment' => [
            'application/json',
        ],
        'updateAudienceSegmentFilter' => [
            'application/json',
        ],
        'updateAudienceTag' => [
            'application/json',
        ],
    ];

/**
     * @param ClientInterface $client
     * @param Configuration   $config
     * @param HeaderSelector  $selector
     * @param int             $hostIndex (Optional) host index to select the list of hosts if defined in the OpenAPI spec
     */
    public function __construct(
        ClientInterface $client = null,
        Configuration $config = null,
        HeaderSelector $selector = null,
        $hostIndex = 0
    ) {
        $this->client = $client ?: new Client();
        $this->config = $config ?: new Configuration();
        $this->headerSelector = $selector ?: new HeaderSelector();
        $this->hostIndex = $hostIndex;
    }

    /**
     * Set the host index
     *
     * @param int $hostIndex Host index (required)
     */
    public function setHostIndex($hostIndex): void
    {
        $this->hostIndex = $hostIndex;
    }

    /**
     * Get the host index
     *
     * @return int Host index
     */
    public function getHostIndex()
    {
        return $this->hostIndex;
    }

    /**
     * @return Configuration
     */
    public function getConfig()
    {
        return $this->config;
    }

    /**
     * Operation attachAudienceRecipientContact
     *
     * Attach a Contact to the Audience Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $audience_contact_type The type of the Contact (required)
     * @param  \AirEml\Model\AudienceRecipientContactRequest $audience_recipient_contact_request audience_recipient_contact_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['attachAudienceRecipientContact'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return void
     */
    public function attachAudienceRecipientContact($audience_recipient_id, $audience_contact_type, $audience_recipient_contact_request, string $contentType = self::contentTypes['attachAudienceRecipientContact'][0])
    {
        $this->attachAudienceRecipientContactWithHttpInfo($audience_recipient_id, $audience_contact_type, $audience_recipient_contact_request, $contentType);
    }

    /**
     * Operation attachAudienceRecipientContactWithHttpInfo
     *
     * Attach a Contact to the Audience Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $audience_contact_type The type of the Contact (required)
     * @param  \AirEml\Model\AudienceRecipientContactRequest $audience_recipient_contact_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['attachAudienceRecipientContact'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of null, HTTP status code, HTTP response headers (array of strings)
     */
    public function attachAudienceRecipientContactWithHttpInfo($audience_recipient_id, $audience_contact_type, $audience_recipient_contact_request, string $contentType = self::contentTypes['attachAudienceRecipientContact'][0])
    {
        $request = $this->attachAudienceRecipientContactRequest($audience_recipient_id, $audience_contact_type, $audience_recipient_contact_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return [null, $statusCode, $response->getHeaders()];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\ErrorMultiple',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 401:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 403:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 404:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 500:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                default:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation attachAudienceRecipientContactAsync
     *
     * Attach a Contact to the Audience Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $audience_contact_type The type of the Contact (required)
     * @param  \AirEml\Model\AudienceRecipientContactRequest $audience_recipient_contact_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['attachAudienceRecipientContact'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function attachAudienceRecipientContactAsync($audience_recipient_id, $audience_contact_type, $audience_recipient_contact_request, string $contentType = self::contentTypes['attachAudienceRecipientContact'][0])
    {
        return $this->attachAudienceRecipientContactAsyncWithHttpInfo($audience_recipient_id, $audience_contact_type, $audience_recipient_contact_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation attachAudienceRecipientContactAsyncWithHttpInfo
     *
     * Attach a Contact to the Audience Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $audience_contact_type The type of the Contact (required)
     * @param  \AirEml\Model\AudienceRecipientContactRequest $audience_recipient_contact_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['attachAudienceRecipientContact'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function attachAudienceRecipientContactAsyncWithHttpInfo($audience_recipient_id, $audience_contact_type, $audience_recipient_contact_request, string $contentType = self::contentTypes['attachAudienceRecipientContact'][0])
    {
        $returnType = '';
        $request = $this->attachAudienceRecipientContactRequest($audience_recipient_id, $audience_contact_type, $audience_recipient_contact_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    return [null, $response->getStatusCode(), $response->getHeaders()];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'attachAudienceRecipientContact'
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $audience_contact_type The type of the Contact (required)
     * @param  \AirEml\Model\AudienceRecipientContactRequest $audience_recipient_contact_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['attachAudienceRecipientContact'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function attachAudienceRecipientContactRequest($audience_recipient_id, $audience_contact_type, $audience_recipient_contact_request, string $contentType = self::contentTypes['attachAudienceRecipientContact'][0])
    {

        // verify the required parameter 'audience_recipient_id' is set
        if ($audience_recipient_id === null || (is_array($audience_recipient_id) && count($audience_recipient_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_recipient_id when calling attachAudienceRecipientContact'
            );
        }

        // verify the required parameter 'audience_contact_type' is set
        if ($audience_contact_type === null || (is_array($audience_contact_type) && count($audience_contact_type) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_contact_type when calling attachAudienceRecipientContact'
            );
        }

        // verify the required parameter 'audience_recipient_contact_request' is set
        if ($audience_recipient_contact_request === null || (is_array($audience_recipient_contact_request) && count($audience_recipient_contact_request) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_recipient_contact_request when calling attachAudienceRecipientContact'
            );
        }


        $resourcePath = '/api/v1/audience/recipients/{audience_recipient_id}/contacts/{audience_contact_type}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($audience_recipient_id !== null) {
            $resourcePath = str_replace(
                '{' . 'audience_recipient_id' . '}',
                ObjectSerializer::toPathValue($audience_recipient_id),
                $resourcePath
            );
        }
        // path params
        if ($audience_contact_type !== null) {
            $resourcePath = str_replace(
                '{' . 'audience_contact_type' . '}',
                ObjectSerializer::toPathValue($audience_contact_type),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($audience_recipient_contact_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($audience_recipient_contact_request));
            } else {
                $httpBody = $audience_recipient_contact_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }
        if ($this->config->getAccessToken() != '') {
            $defaultHeaders['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation attachAudienceRecipientTag
     *
     * Attach a Tag to the Audience Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $audience_tag_name The name of the Tag (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['attachAudienceRecipientTag'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return void
     */
    public function attachAudienceRecipientTag($audience_recipient_id, $audience_tag_name, string $contentType = self::contentTypes['attachAudienceRecipientTag'][0])
    {
        $this->attachAudienceRecipientTagWithHttpInfo($audience_recipient_id, $audience_tag_name, $contentType);
    }

    /**
     * Operation attachAudienceRecipientTagWithHttpInfo
     *
     * Attach a Tag to the Audience Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $audience_tag_name The name of the Tag (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['attachAudienceRecipientTag'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of null, HTTP status code, HTTP response headers (array of strings)
     */
    public function attachAudienceRecipientTagWithHttpInfo($audience_recipient_id, $audience_tag_name, string $contentType = self::contentTypes['attachAudienceRecipientTag'][0])
    {
        $request = $this->attachAudienceRecipientTagRequest($audience_recipient_id, $audience_tag_name, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return [null, $statusCode, $response->getHeaders()];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\ErrorMultiple',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 401:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 403:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 404:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 500:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                default:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation attachAudienceRecipientTagAsync
     *
     * Attach a Tag to the Audience Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $audience_tag_name The name of the Tag (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['attachAudienceRecipientTag'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function attachAudienceRecipientTagAsync($audience_recipient_id, $audience_tag_name, string $contentType = self::contentTypes['attachAudienceRecipientTag'][0])
    {
        return $this->attachAudienceRecipientTagAsyncWithHttpInfo($audience_recipient_id, $audience_tag_name, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation attachAudienceRecipientTagAsyncWithHttpInfo
     *
     * Attach a Tag to the Audience Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $audience_tag_name The name of the Tag (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['attachAudienceRecipientTag'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function attachAudienceRecipientTagAsyncWithHttpInfo($audience_recipient_id, $audience_tag_name, string $contentType = self::contentTypes['attachAudienceRecipientTag'][0])
    {
        $returnType = '';
        $request = $this->attachAudienceRecipientTagRequest($audience_recipient_id, $audience_tag_name, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    return [null, $response->getStatusCode(), $response->getHeaders()];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'attachAudienceRecipientTag'
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $audience_tag_name The name of the Tag (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['attachAudienceRecipientTag'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function attachAudienceRecipientTagRequest($audience_recipient_id, $audience_tag_name, string $contentType = self::contentTypes['attachAudienceRecipientTag'][0])
    {

        // verify the required parameter 'audience_recipient_id' is set
        if ($audience_recipient_id === null || (is_array($audience_recipient_id) && count($audience_recipient_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_recipient_id when calling attachAudienceRecipientTag'
            );
        }

        // verify the required parameter 'audience_tag_name' is set
        if ($audience_tag_name === null || (is_array($audience_tag_name) && count($audience_tag_name) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_tag_name when calling attachAudienceRecipientTag'
            );
        }


        $resourcePath = '/api/v1/audience/recipients/{audience_recipient_id}/tags/{audience_tag_name}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($audience_recipient_id !== null) {
            $resourcePath = str_replace(
                '{' . 'audience_recipient_id' . '}',
                ObjectSerializer::toPathValue($audience_recipient_id),
                $resourcePath
            );
        }
        // path params
        if ($audience_tag_name !== null) {
            $resourcePath = str_replace(
                '{' . 'audience_tag_name' . '}',
                ObjectSerializer::toPathValue($audience_tag_name),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }
        if ($this->config->getAccessToken() != '') {
            $defaultHeaders['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation createAudienceRecipient
     *
     * Create a New Recipient
     *
     * @param  \AirEml\Model\AudienceRecipientRequest $audience_recipient_request audience_recipient_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createAudienceRecipient'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \AirEml\Model\AudienceRecipientResponse|\AirEml\Model\ErrorMultiple|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error
     */
    public function createAudienceRecipient($audience_recipient_request, string $contentType = self::contentTypes['createAudienceRecipient'][0])
    {
        list($response) = $this->createAudienceRecipientWithHttpInfo($audience_recipient_request, $contentType);
        return $response;
    }

    /**
     * Operation createAudienceRecipientWithHttpInfo
     *
     * Create a New Recipient
     *
     * @param  \AirEml\Model\AudienceRecipientRequest $audience_recipient_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createAudienceRecipient'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \AirEml\Model\AudienceRecipientResponse|\AirEml\Model\ErrorMultiple|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error, HTTP status code, HTTP response headers (array of strings)
     */
    public function createAudienceRecipientWithHttpInfo($audience_recipient_request, string $contentType = self::contentTypes['createAudienceRecipient'][0])
    {
        $request = $this->createAudienceRecipientRequest($audience_recipient_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 201:
                    if ('\AirEml\Model\AudienceRecipientResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\AudienceRecipientResponse' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\AudienceRecipientResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\AirEml\Model\ErrorMultiple' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\ErrorMultiple' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\ErrorMultiple', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 401:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 403:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 500:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                default:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\AirEml\Model\AudienceRecipientResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    try {
                        $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                    } catch (\JsonException $exception) {
                        throw new ApiException(
                            sprintf(
                                'Error JSON decoding server response (%s)',
                                $request->getUri()
                            ),
                            $statusCode,
                            $response->getHeaders(),
                            $content
                        );
                    }
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 201:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\AudienceRecipientResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\ErrorMultiple',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 401:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 403:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 500:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                default:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation createAudienceRecipientAsync
     *
     * Create a New Recipient
     *
     * @param  \AirEml\Model\AudienceRecipientRequest $audience_recipient_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createAudienceRecipient'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function createAudienceRecipientAsync($audience_recipient_request, string $contentType = self::contentTypes['createAudienceRecipient'][0])
    {
        return $this->createAudienceRecipientAsyncWithHttpInfo($audience_recipient_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation createAudienceRecipientAsyncWithHttpInfo
     *
     * Create a New Recipient
     *
     * @param  \AirEml\Model\AudienceRecipientRequest $audience_recipient_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createAudienceRecipient'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function createAudienceRecipientAsyncWithHttpInfo($audience_recipient_request, string $contentType = self::contentTypes['createAudienceRecipient'][0])
    {
        $returnType = '\AirEml\Model\AudienceRecipientResponse';
        $request = $this->createAudienceRecipientRequest($audience_recipient_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'createAudienceRecipient'
     *
     * @param  \AirEml\Model\AudienceRecipientRequest $audience_recipient_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createAudienceRecipient'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function createAudienceRecipientRequest($audience_recipient_request, string $contentType = self::contentTypes['createAudienceRecipient'][0])
    {

        // verify the required parameter 'audience_recipient_request' is set
        if ($audience_recipient_request === null || (is_array($audience_recipient_request) && count($audience_recipient_request) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_recipient_request when calling createAudienceRecipient'
            );
        }


        $resourcePath = '/api/v1/audience/recipients';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;





        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($audience_recipient_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($audience_recipient_request));
            } else {
                $httpBody = $audience_recipient_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }
        if ($this->config->getAccessToken() != '') {
            $defaultHeaders['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation createAudienceSegment
     *
     * Create a New Segment
     *
     * @param  \AirEml\Model\AudienceSegmentRequest $audience_segment_request audience_segment_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createAudienceSegment'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \AirEml\Model\AudienceSegmentResponse|\AirEml\Model\ErrorMultiple|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error
     */
    public function createAudienceSegment($audience_segment_request, string $contentType = self::contentTypes['createAudienceSegment'][0])
    {
        list($response) = $this->createAudienceSegmentWithHttpInfo($audience_segment_request, $contentType);
        return $response;
    }

    /**
     * Operation createAudienceSegmentWithHttpInfo
     *
     * Create a New Segment
     *
     * @param  \AirEml\Model\AudienceSegmentRequest $audience_segment_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createAudienceSegment'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \AirEml\Model\AudienceSegmentResponse|\AirEml\Model\ErrorMultiple|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error, HTTP status code, HTTP response headers (array of strings)
     */
    public function createAudienceSegmentWithHttpInfo($audience_segment_request, string $contentType = self::contentTypes['createAudienceSegment'][0])
    {
        $request = $this->createAudienceSegmentRequest($audience_segment_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 201:
                    if ('\AirEml\Model\AudienceSegmentResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\AudienceSegmentResponse' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\AudienceSegmentResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\AirEml\Model\ErrorMultiple' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\ErrorMultiple' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\ErrorMultiple', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 401:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 403:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 500:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                default:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\AirEml\Model\AudienceSegmentResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    try {
                        $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                    } catch (\JsonException $exception) {
                        throw new ApiException(
                            sprintf(
                                'Error JSON decoding server response (%s)',
                                $request->getUri()
                            ),
                            $statusCode,
                            $response->getHeaders(),
                            $content
                        );
                    }
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 201:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\AudienceSegmentResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\ErrorMultiple',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 401:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 403:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 500:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                default:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation createAudienceSegmentAsync
     *
     * Create a New Segment
     *
     * @param  \AirEml\Model\AudienceSegmentRequest $audience_segment_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createAudienceSegment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function createAudienceSegmentAsync($audience_segment_request, string $contentType = self::contentTypes['createAudienceSegment'][0])
    {
        return $this->createAudienceSegmentAsyncWithHttpInfo($audience_segment_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation createAudienceSegmentAsyncWithHttpInfo
     *
     * Create a New Segment
     *
     * @param  \AirEml\Model\AudienceSegmentRequest $audience_segment_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createAudienceSegment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function createAudienceSegmentAsyncWithHttpInfo($audience_segment_request, string $contentType = self::contentTypes['createAudienceSegment'][0])
    {
        $returnType = '\AirEml\Model\AudienceSegmentResponse';
        $request = $this->createAudienceSegmentRequest($audience_segment_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'createAudienceSegment'
     *
     * @param  \AirEml\Model\AudienceSegmentRequest $audience_segment_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createAudienceSegment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function createAudienceSegmentRequest($audience_segment_request, string $contentType = self::contentTypes['createAudienceSegment'][0])
    {

        // verify the required parameter 'audience_segment_request' is set
        if ($audience_segment_request === null || (is_array($audience_segment_request) && count($audience_segment_request) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_segment_request when calling createAudienceSegment'
            );
        }


        $resourcePath = '/api/v1/audience/segments';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;





        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($audience_segment_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($audience_segment_request));
            } else {
                $httpBody = $audience_segment_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }
        if ($this->config->getAccessToken() != '') {
            $defaultHeaders['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation createAudienceSegmentFilter
     *
     * Create a New Segment Filter
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  \AirEml\Model\AudienceFilterRequest $audience_filter_request audience_filter_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createAudienceSegmentFilter'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \AirEml\Model\AudienceFilterResponse|\AirEml\Model\ErrorMultiple|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error
     */
    public function createAudienceSegmentFilter($audience_segment_id, $audience_filter_request, string $contentType = self::contentTypes['createAudienceSegmentFilter'][0])
    {
        list($response) = $this->createAudienceSegmentFilterWithHttpInfo($audience_segment_id, $audience_filter_request, $contentType);
        return $response;
    }

    /**
     * Operation createAudienceSegmentFilterWithHttpInfo
     *
     * Create a New Segment Filter
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  \AirEml\Model\AudienceFilterRequest $audience_filter_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createAudienceSegmentFilter'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \AirEml\Model\AudienceFilterResponse|\AirEml\Model\ErrorMultiple|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error, HTTP status code, HTTP response headers (array of strings)
     */
    public function createAudienceSegmentFilterWithHttpInfo($audience_segment_id, $audience_filter_request, string $contentType = self::contentTypes['createAudienceSegmentFilter'][0])
    {
        $request = $this->createAudienceSegmentFilterRequest($audience_segment_id, $audience_filter_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 201:
                    if ('\AirEml\Model\AudienceFilterResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\AudienceFilterResponse' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\AudienceFilterResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\AirEml\Model\ErrorMultiple' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\ErrorMultiple' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\ErrorMultiple', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 401:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 403:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 500:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                default:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\AirEml\Model\AudienceFilterResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    try {
                        $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                    } catch (\JsonException $exception) {
                        throw new ApiException(
                            sprintf(
                                'Error JSON decoding server response (%s)',
                                $request->getUri()
                            ),
                            $statusCode,
                            $response->getHeaders(),
                            $content
                        );
                    }
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 201:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\AudienceFilterResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\ErrorMultiple',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 401:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 403:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 500:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                default:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation createAudienceSegmentFilterAsync
     *
     * Create a New Segment Filter
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  \AirEml\Model\AudienceFilterRequest $audience_filter_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createAudienceSegmentFilter'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function createAudienceSegmentFilterAsync($audience_segment_id, $audience_filter_request, string $contentType = self::contentTypes['createAudienceSegmentFilter'][0])
    {
        return $this->createAudienceSegmentFilterAsyncWithHttpInfo($audience_segment_id, $audience_filter_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation createAudienceSegmentFilterAsyncWithHttpInfo
     *
     * Create a New Segment Filter
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  \AirEml\Model\AudienceFilterRequest $audience_filter_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createAudienceSegmentFilter'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function createAudienceSegmentFilterAsyncWithHttpInfo($audience_segment_id, $audience_filter_request, string $contentType = self::contentTypes['createAudienceSegmentFilter'][0])
    {
        $returnType = '\AirEml\Model\AudienceFilterResponse';
        $request = $this->createAudienceSegmentFilterRequest($audience_segment_id, $audience_filter_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'createAudienceSegmentFilter'
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  \AirEml\Model\AudienceFilterRequest $audience_filter_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createAudienceSegmentFilter'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function createAudienceSegmentFilterRequest($audience_segment_id, $audience_filter_request, string $contentType = self::contentTypes['createAudienceSegmentFilter'][0])
    {

        // verify the required parameter 'audience_segment_id' is set
        if ($audience_segment_id === null || (is_array($audience_segment_id) && count($audience_segment_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_segment_id when calling createAudienceSegmentFilter'
            );
        }

        // verify the required parameter 'audience_filter_request' is set
        if ($audience_filter_request === null || (is_array($audience_filter_request) && count($audience_filter_request) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_filter_request when calling createAudienceSegmentFilter'
            );
        }


        $resourcePath = '/api/v1/audience/segments/{audience_segment_id}/filters';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($audience_segment_id !== null) {
            $resourcePath = str_replace(
                '{' . 'audience_segment_id' . '}',
                ObjectSerializer::toPathValue($audience_segment_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($audience_filter_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($audience_filter_request));
            } else {
                $httpBody = $audience_filter_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }
        if ($this->config->getAccessToken() != '') {
            $defaultHeaders['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation createAudienceTag
     *
     * Create a New Tag
     *
     * @param  \AirEml\Model\AudienceTagRequest $audience_tag_request audience_tag_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createAudienceTag'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \AirEml\Model\AudienceTagResponse|\AirEml\Model\ErrorMultiple|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error
     */
    public function createAudienceTag($audience_tag_request, string $contentType = self::contentTypes['createAudienceTag'][0])
    {
        list($response) = $this->createAudienceTagWithHttpInfo($audience_tag_request, $contentType);
        return $response;
    }

    /**
     * Operation createAudienceTagWithHttpInfo
     *
     * Create a New Tag
     *
     * @param  \AirEml\Model\AudienceTagRequest $audience_tag_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createAudienceTag'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \AirEml\Model\AudienceTagResponse|\AirEml\Model\ErrorMultiple|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error, HTTP status code, HTTP response headers (array of strings)
     */
    public function createAudienceTagWithHttpInfo($audience_tag_request, string $contentType = self::contentTypes['createAudienceTag'][0])
    {
        $request = $this->createAudienceTagRequest($audience_tag_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 201:
                    if ('\AirEml\Model\AudienceTagResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\AudienceTagResponse' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\AudienceTagResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\AirEml\Model\ErrorMultiple' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\ErrorMultiple' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\ErrorMultiple', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 401:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 403:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 500:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                default:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\AirEml\Model\AudienceTagResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    try {
                        $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                    } catch (\JsonException $exception) {
                        throw new ApiException(
                            sprintf(
                                'Error JSON decoding server response (%s)',
                                $request->getUri()
                            ),
                            $statusCode,
                            $response->getHeaders(),
                            $content
                        );
                    }
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 201:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\AudienceTagResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\ErrorMultiple',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 401:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 403:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 500:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                default:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation createAudienceTagAsync
     *
     * Create a New Tag
     *
     * @param  \AirEml\Model\AudienceTagRequest $audience_tag_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createAudienceTag'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function createAudienceTagAsync($audience_tag_request, string $contentType = self::contentTypes['createAudienceTag'][0])
    {
        return $this->createAudienceTagAsyncWithHttpInfo($audience_tag_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation createAudienceTagAsyncWithHttpInfo
     *
     * Create a New Tag
     *
     * @param  \AirEml\Model\AudienceTagRequest $audience_tag_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createAudienceTag'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function createAudienceTagAsyncWithHttpInfo($audience_tag_request, string $contentType = self::contentTypes['createAudienceTag'][0])
    {
        $returnType = '\AirEml\Model\AudienceTagResponse';
        $request = $this->createAudienceTagRequest($audience_tag_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'createAudienceTag'
     *
     * @param  \AirEml\Model\AudienceTagRequest $audience_tag_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createAudienceTag'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function createAudienceTagRequest($audience_tag_request, string $contentType = self::contentTypes['createAudienceTag'][0])
    {

        // verify the required parameter 'audience_tag_request' is set
        if ($audience_tag_request === null || (is_array($audience_tag_request) && count($audience_tag_request) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_tag_request when calling createAudienceTag'
            );
        }


        $resourcePath = '/api/v1/audience/tags';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;





        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($audience_tag_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($audience_tag_request));
            } else {
                $httpBody = $audience_tag_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }
        if ($this->config->getAccessToken() != '') {
            $defaultHeaders['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation deleteAudienceRecipient
     *
     * Delete a Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceRecipient'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return void
     */
    public function deleteAudienceRecipient($audience_recipient_id, string $contentType = self::contentTypes['deleteAudienceRecipient'][0])
    {
        $this->deleteAudienceRecipientWithHttpInfo($audience_recipient_id, $contentType);
    }

    /**
     * Operation deleteAudienceRecipientWithHttpInfo
     *
     * Delete a Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceRecipient'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of null, HTTP status code, HTTP response headers (array of strings)
     */
    public function deleteAudienceRecipientWithHttpInfo($audience_recipient_id, string $contentType = self::contentTypes['deleteAudienceRecipient'][0])
    {
        $request = $this->deleteAudienceRecipientRequest($audience_recipient_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return [null, $statusCode, $response->getHeaders()];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 401:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 403:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 404:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 500:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                default:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation deleteAudienceRecipientAsync
     *
     * Delete a Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceRecipient'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function deleteAudienceRecipientAsync($audience_recipient_id, string $contentType = self::contentTypes['deleteAudienceRecipient'][0])
    {
        return $this->deleteAudienceRecipientAsyncWithHttpInfo($audience_recipient_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation deleteAudienceRecipientAsyncWithHttpInfo
     *
     * Delete a Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceRecipient'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function deleteAudienceRecipientAsyncWithHttpInfo($audience_recipient_id, string $contentType = self::contentTypes['deleteAudienceRecipient'][0])
    {
        $returnType = '';
        $request = $this->deleteAudienceRecipientRequest($audience_recipient_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    return [null, $response->getStatusCode(), $response->getHeaders()];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'deleteAudienceRecipient'
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceRecipient'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function deleteAudienceRecipientRequest($audience_recipient_id, string $contentType = self::contentTypes['deleteAudienceRecipient'][0])
    {

        // verify the required parameter 'audience_recipient_id' is set
        if ($audience_recipient_id === null || (is_array($audience_recipient_id) && count($audience_recipient_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_recipient_id when calling deleteAudienceRecipient'
            );
        }


        $resourcePath = '/api/v1/audience/recipients/{audience_recipient_id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($audience_recipient_id !== null) {
            $resourcePath = str_replace(
                '{' . 'audience_recipient_id' . '}',
                ObjectSerializer::toPathValue($audience_recipient_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }
        if ($this->config->getAccessToken() != '') {
            $defaultHeaders['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'DELETE',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation deleteAudienceRecipientContact
     *
     * Delete a Contact from the Audience Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $audience_contact_type The type of the Contact (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceRecipientContact'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return void
     */
    public function deleteAudienceRecipientContact($audience_recipient_id, $audience_contact_type, string $contentType = self::contentTypes['deleteAudienceRecipientContact'][0])
    {
        $this->deleteAudienceRecipientContactWithHttpInfo($audience_recipient_id, $audience_contact_type, $contentType);
    }

    /**
     * Operation deleteAudienceRecipientContactWithHttpInfo
     *
     * Delete a Contact from the Audience Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $audience_contact_type The type of the Contact (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceRecipientContact'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of null, HTTP status code, HTTP response headers (array of strings)
     */
    public function deleteAudienceRecipientContactWithHttpInfo($audience_recipient_id, $audience_contact_type, string $contentType = self::contentTypes['deleteAudienceRecipientContact'][0])
    {
        $request = $this->deleteAudienceRecipientContactRequest($audience_recipient_id, $audience_contact_type, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return [null, $statusCode, $response->getHeaders()];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 401:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 403:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 404:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 500:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                default:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation deleteAudienceRecipientContactAsync
     *
     * Delete a Contact from the Audience Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $audience_contact_type The type of the Contact (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceRecipientContact'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function deleteAudienceRecipientContactAsync($audience_recipient_id, $audience_contact_type, string $contentType = self::contentTypes['deleteAudienceRecipientContact'][0])
    {
        return $this->deleteAudienceRecipientContactAsyncWithHttpInfo($audience_recipient_id, $audience_contact_type, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation deleteAudienceRecipientContactAsyncWithHttpInfo
     *
     * Delete a Contact from the Audience Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $audience_contact_type The type of the Contact (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceRecipientContact'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function deleteAudienceRecipientContactAsyncWithHttpInfo($audience_recipient_id, $audience_contact_type, string $contentType = self::contentTypes['deleteAudienceRecipientContact'][0])
    {
        $returnType = '';
        $request = $this->deleteAudienceRecipientContactRequest($audience_recipient_id, $audience_contact_type, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    return [null, $response->getStatusCode(), $response->getHeaders()];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'deleteAudienceRecipientContact'
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $audience_contact_type The type of the Contact (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceRecipientContact'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function deleteAudienceRecipientContactRequest($audience_recipient_id, $audience_contact_type, string $contentType = self::contentTypes['deleteAudienceRecipientContact'][0])
    {

        // verify the required parameter 'audience_recipient_id' is set
        if ($audience_recipient_id === null || (is_array($audience_recipient_id) && count($audience_recipient_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_recipient_id when calling deleteAudienceRecipientContact'
            );
        }

        // verify the required parameter 'audience_contact_type' is set
        if ($audience_contact_type === null || (is_array($audience_contact_type) && count($audience_contact_type) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_contact_type when calling deleteAudienceRecipientContact'
            );
        }


        $resourcePath = '/api/v1/audience/recipients/{audience_recipient_id}/contacts/{audience_contact_type}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($audience_recipient_id !== null) {
            $resourcePath = str_replace(
                '{' . 'audience_recipient_id' . '}',
                ObjectSerializer::toPathValue($audience_recipient_id),
                $resourcePath
            );
        }
        // path params
        if ($audience_contact_type !== null) {
            $resourcePath = str_replace(
                '{' . 'audience_contact_type' . '}',
                ObjectSerializer::toPathValue($audience_contact_type),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }
        if ($this->config->getAccessToken() != '') {
            $defaultHeaders['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'DELETE',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation deleteAudienceRecipientTag
     *
     * Delete a Tag from the Audience Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $audience_tag_name The name of the Tag (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceRecipientTag'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return void
     */
    public function deleteAudienceRecipientTag($audience_recipient_id, $audience_tag_name, string $contentType = self::contentTypes['deleteAudienceRecipientTag'][0])
    {
        $this->deleteAudienceRecipientTagWithHttpInfo($audience_recipient_id, $audience_tag_name, $contentType);
    }

    /**
     * Operation deleteAudienceRecipientTagWithHttpInfo
     *
     * Delete a Tag from the Audience Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $audience_tag_name The name of the Tag (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceRecipientTag'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of null, HTTP status code, HTTP response headers (array of strings)
     */
    public function deleteAudienceRecipientTagWithHttpInfo($audience_recipient_id, $audience_tag_name, string $contentType = self::contentTypes['deleteAudienceRecipientTag'][0])
    {
        $request = $this->deleteAudienceRecipientTagRequest($audience_recipient_id, $audience_tag_name, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return [null, $statusCode, $response->getHeaders()];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 401:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 403:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 404:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 500:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                default:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation deleteAudienceRecipientTagAsync
     *
     * Delete a Tag from the Audience Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $audience_tag_name The name of the Tag (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceRecipientTag'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function deleteAudienceRecipientTagAsync($audience_recipient_id, $audience_tag_name, string $contentType = self::contentTypes['deleteAudienceRecipientTag'][0])
    {
        return $this->deleteAudienceRecipientTagAsyncWithHttpInfo($audience_recipient_id, $audience_tag_name, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation deleteAudienceRecipientTagAsyncWithHttpInfo
     *
     * Delete a Tag from the Audience Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $audience_tag_name The name of the Tag (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceRecipientTag'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function deleteAudienceRecipientTagAsyncWithHttpInfo($audience_recipient_id, $audience_tag_name, string $contentType = self::contentTypes['deleteAudienceRecipientTag'][0])
    {
        $returnType = '';
        $request = $this->deleteAudienceRecipientTagRequest($audience_recipient_id, $audience_tag_name, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    return [null, $response->getStatusCode(), $response->getHeaders()];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'deleteAudienceRecipientTag'
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $audience_tag_name The name of the Tag (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceRecipientTag'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function deleteAudienceRecipientTagRequest($audience_recipient_id, $audience_tag_name, string $contentType = self::contentTypes['deleteAudienceRecipientTag'][0])
    {

        // verify the required parameter 'audience_recipient_id' is set
        if ($audience_recipient_id === null || (is_array($audience_recipient_id) && count($audience_recipient_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_recipient_id when calling deleteAudienceRecipientTag'
            );
        }

        // verify the required parameter 'audience_tag_name' is set
        if ($audience_tag_name === null || (is_array($audience_tag_name) && count($audience_tag_name) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_tag_name when calling deleteAudienceRecipientTag'
            );
        }


        $resourcePath = '/api/v1/audience/recipients/{audience_recipient_id}/tags/{audience_tag_name}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($audience_recipient_id !== null) {
            $resourcePath = str_replace(
                '{' . 'audience_recipient_id' . '}',
                ObjectSerializer::toPathValue($audience_recipient_id),
                $resourcePath
            );
        }
        // path params
        if ($audience_tag_name !== null) {
            $resourcePath = str_replace(
                '{' . 'audience_tag_name' . '}',
                ObjectSerializer::toPathValue($audience_tag_name),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }
        if ($this->config->getAccessToken() != '') {
            $defaultHeaders['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'DELETE',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation deleteAudienceSegment
     *
     * Delete a Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceSegment'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return void
     */
    public function deleteAudienceSegment($audience_segment_id, string $contentType = self::contentTypes['deleteAudienceSegment'][0])
    {
        $this->deleteAudienceSegmentWithHttpInfo($audience_segment_id, $contentType);
    }

    /**
     * Operation deleteAudienceSegmentWithHttpInfo
     *
     * Delete a Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceSegment'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of null, HTTP status code, HTTP response headers (array of strings)
     */
    public function deleteAudienceSegmentWithHttpInfo($audience_segment_id, string $contentType = self::contentTypes['deleteAudienceSegment'][0])
    {
        $request = $this->deleteAudienceSegmentRequest($audience_segment_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return [null, $statusCode, $response->getHeaders()];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 401:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 403:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 404:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 500:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                default:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation deleteAudienceSegmentAsync
     *
     * Delete a Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceSegment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function deleteAudienceSegmentAsync($audience_segment_id, string $contentType = self::contentTypes['deleteAudienceSegment'][0])
    {
        return $this->deleteAudienceSegmentAsyncWithHttpInfo($audience_segment_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation deleteAudienceSegmentAsyncWithHttpInfo
     *
     * Delete a Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceSegment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function deleteAudienceSegmentAsyncWithHttpInfo($audience_segment_id, string $contentType = self::contentTypes['deleteAudienceSegment'][0])
    {
        $returnType = '';
        $request = $this->deleteAudienceSegmentRequest($audience_segment_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    return [null, $response->getStatusCode(), $response->getHeaders()];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'deleteAudienceSegment'
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceSegment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function deleteAudienceSegmentRequest($audience_segment_id, string $contentType = self::contentTypes['deleteAudienceSegment'][0])
    {

        // verify the required parameter 'audience_segment_id' is set
        if ($audience_segment_id === null || (is_array($audience_segment_id) && count($audience_segment_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_segment_id when calling deleteAudienceSegment'
            );
        }


        $resourcePath = '/api/v1/audience/segments/{audience_segment_id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($audience_segment_id !== null) {
            $resourcePath = str_replace(
                '{' . 'audience_segment_id' . '}',
                ObjectSerializer::toPathValue($audience_segment_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }
        if ($this->config->getAccessToken() != '') {
            $defaultHeaders['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'DELETE',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation deleteAudienceSegmentFilter
     *
     * Delete a Filter from the Audience Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $audience_filter_id The ID of the Filter (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceSegmentFilter'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return void
     */
    public function deleteAudienceSegmentFilter($audience_segment_id, $audience_filter_id, string $contentType = self::contentTypes['deleteAudienceSegmentFilter'][0])
    {
        $this->deleteAudienceSegmentFilterWithHttpInfo($audience_segment_id, $audience_filter_id, $contentType);
    }

    /**
     * Operation deleteAudienceSegmentFilterWithHttpInfo
     *
     * Delete a Filter from the Audience Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $audience_filter_id The ID of the Filter (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceSegmentFilter'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of null, HTTP status code, HTTP response headers (array of strings)
     */
    public function deleteAudienceSegmentFilterWithHttpInfo($audience_segment_id, $audience_filter_id, string $contentType = self::contentTypes['deleteAudienceSegmentFilter'][0])
    {
        $request = $this->deleteAudienceSegmentFilterRequest($audience_segment_id, $audience_filter_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return [null, $statusCode, $response->getHeaders()];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 401:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 403:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 404:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 500:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                default:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation deleteAudienceSegmentFilterAsync
     *
     * Delete a Filter from the Audience Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $audience_filter_id The ID of the Filter (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceSegmentFilter'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function deleteAudienceSegmentFilterAsync($audience_segment_id, $audience_filter_id, string $contentType = self::contentTypes['deleteAudienceSegmentFilter'][0])
    {
        return $this->deleteAudienceSegmentFilterAsyncWithHttpInfo($audience_segment_id, $audience_filter_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation deleteAudienceSegmentFilterAsyncWithHttpInfo
     *
     * Delete a Filter from the Audience Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $audience_filter_id The ID of the Filter (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceSegmentFilter'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function deleteAudienceSegmentFilterAsyncWithHttpInfo($audience_segment_id, $audience_filter_id, string $contentType = self::contentTypes['deleteAudienceSegmentFilter'][0])
    {
        $returnType = '';
        $request = $this->deleteAudienceSegmentFilterRequest($audience_segment_id, $audience_filter_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    return [null, $response->getStatusCode(), $response->getHeaders()];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'deleteAudienceSegmentFilter'
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $audience_filter_id The ID of the Filter (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceSegmentFilter'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function deleteAudienceSegmentFilterRequest($audience_segment_id, $audience_filter_id, string $contentType = self::contentTypes['deleteAudienceSegmentFilter'][0])
    {

        // verify the required parameter 'audience_segment_id' is set
        if ($audience_segment_id === null || (is_array($audience_segment_id) && count($audience_segment_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_segment_id when calling deleteAudienceSegmentFilter'
            );
        }

        // verify the required parameter 'audience_filter_id' is set
        if ($audience_filter_id === null || (is_array($audience_filter_id) && count($audience_filter_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_filter_id when calling deleteAudienceSegmentFilter'
            );
        }


        $resourcePath = '/api/v1/audience/segments/{audience_segment_id}/filters/{audience_filter_id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($audience_segment_id !== null) {
            $resourcePath = str_replace(
                '{' . 'audience_segment_id' . '}',
                ObjectSerializer::toPathValue($audience_segment_id),
                $resourcePath
            );
        }
        // path params
        if ($audience_filter_id !== null) {
            $resourcePath = str_replace(
                '{' . 'audience_filter_id' . '}',
                ObjectSerializer::toPathValue($audience_filter_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }
        if ($this->config->getAccessToken() != '') {
            $defaultHeaders['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'DELETE',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation deleteAudienceTag
     *
     * Delete a Tag
     *
     * @param  string $audience_tag_id The ID of the Tag (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceTag'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return void
     */
    public function deleteAudienceTag($audience_tag_id, string $contentType = self::contentTypes['deleteAudienceTag'][0])
    {
        $this->deleteAudienceTagWithHttpInfo($audience_tag_id, $contentType);
    }

    /**
     * Operation deleteAudienceTagWithHttpInfo
     *
     * Delete a Tag
     *
     * @param  string $audience_tag_id The ID of the Tag (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceTag'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of null, HTTP status code, HTTP response headers (array of strings)
     */
    public function deleteAudienceTagWithHttpInfo($audience_tag_id, string $contentType = self::contentTypes['deleteAudienceTag'][0])
    {
        $request = $this->deleteAudienceTagRequest($audience_tag_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return [null, $statusCode, $response->getHeaders()];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 401:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 403:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 404:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 500:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                default:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation deleteAudienceTagAsync
     *
     * Delete a Tag
     *
     * @param  string $audience_tag_id The ID of the Tag (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceTag'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function deleteAudienceTagAsync($audience_tag_id, string $contentType = self::contentTypes['deleteAudienceTag'][0])
    {
        return $this->deleteAudienceTagAsyncWithHttpInfo($audience_tag_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation deleteAudienceTagAsyncWithHttpInfo
     *
     * Delete a Tag
     *
     * @param  string $audience_tag_id The ID of the Tag (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceTag'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function deleteAudienceTagAsyncWithHttpInfo($audience_tag_id, string $contentType = self::contentTypes['deleteAudienceTag'][0])
    {
        $returnType = '';
        $request = $this->deleteAudienceTagRequest($audience_tag_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    return [null, $response->getStatusCode(), $response->getHeaders()];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'deleteAudienceTag'
     *
     * @param  string $audience_tag_id The ID of the Tag (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['deleteAudienceTag'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function deleteAudienceTagRequest($audience_tag_id, string $contentType = self::contentTypes['deleteAudienceTag'][0])
    {

        // verify the required parameter 'audience_tag_id' is set
        if ($audience_tag_id === null || (is_array($audience_tag_id) && count($audience_tag_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_tag_id when calling deleteAudienceTag'
            );
        }


        $resourcePath = '/api/v1/audience/tags/{audience_tag_id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($audience_tag_id !== null) {
            $resourcePath = str_replace(
                '{' . 'audience_tag_id' . '}',
                ObjectSerializer::toPathValue($audience_tag_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }
        if ($this->config->getAccessToken() != '') {
            $defaultHeaders['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'DELETE',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getAudienceRecipient
     *
     * Retrieve an Existing Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAudienceRecipient'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \AirEml\Model\AudienceRecipientResponse|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error
     */
    public function getAudienceRecipient($audience_recipient_id, string $contentType = self::contentTypes['getAudienceRecipient'][0])
    {
        list($response) = $this->getAudienceRecipientWithHttpInfo($audience_recipient_id, $contentType);
        return $response;
    }

    /**
     * Operation getAudienceRecipientWithHttpInfo
     *
     * Retrieve an Existing Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAudienceRecipient'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \AirEml\Model\AudienceRecipientResponse|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error, HTTP status code, HTTP response headers (array of strings)
     */
    public function getAudienceRecipientWithHttpInfo($audience_recipient_id, string $contentType = self::contentTypes['getAudienceRecipient'][0])
    {
        $request = $this->getAudienceRecipientRequest($audience_recipient_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\AirEml\Model\AudienceRecipientResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\AudienceRecipientResponse' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\AudienceRecipientResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 401:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 403:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 404:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 500:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                default:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\AirEml\Model\AudienceRecipientResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    try {
                        $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                    } catch (\JsonException $exception) {
                        throw new ApiException(
                            sprintf(
                                'Error JSON decoding server response (%s)',
                                $request->getUri()
                            ),
                            $statusCode,
                            $response->getHeaders(),
                            $content
                        );
                    }
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\AudienceRecipientResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 401:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 403:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 404:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 500:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                default:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getAudienceRecipientAsync
     *
     * Retrieve an Existing Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAudienceRecipient'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getAudienceRecipientAsync($audience_recipient_id, string $contentType = self::contentTypes['getAudienceRecipient'][0])
    {
        return $this->getAudienceRecipientAsyncWithHttpInfo($audience_recipient_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getAudienceRecipientAsyncWithHttpInfo
     *
     * Retrieve an Existing Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAudienceRecipient'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getAudienceRecipientAsyncWithHttpInfo($audience_recipient_id, string $contentType = self::contentTypes['getAudienceRecipient'][0])
    {
        $returnType = '\AirEml\Model\AudienceRecipientResponse';
        $request = $this->getAudienceRecipientRequest($audience_recipient_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getAudienceRecipient'
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAudienceRecipient'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getAudienceRecipientRequest($audience_recipient_id, string $contentType = self::contentTypes['getAudienceRecipient'][0])
    {

        // verify the required parameter 'audience_recipient_id' is set
        if ($audience_recipient_id === null || (is_array($audience_recipient_id) && count($audience_recipient_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_recipient_id when calling getAudienceRecipient'
            );
        }


        $resourcePath = '/api/v1/audience/recipients/{audience_recipient_id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($audience_recipient_id !== null) {
            $resourcePath = str_replace(
                '{' . 'audience_recipient_id' . '}',
                ObjectSerializer::toPathValue($audience_recipient_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }
        if ($this->config->getAccessToken() != '') {
            $defaultHeaders['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getAudienceSegment
     *
     * Retrieve an Existing Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAudienceSegment'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \AirEml\Model\AudienceSegmentResponse|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error
     */
    public function getAudienceSegment($audience_segment_id, string $contentType = self::contentTypes['getAudienceSegment'][0])
    {
        list($response) = $this->getAudienceSegmentWithHttpInfo($audience_segment_id, $contentType);
        return $response;
    }

    /**
     * Operation getAudienceSegmentWithHttpInfo
     *
     * Retrieve an Existing Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAudienceSegment'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \AirEml\Model\AudienceSegmentResponse|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error, HTTP status code, HTTP response headers (array of strings)
     */
    public function getAudienceSegmentWithHttpInfo($audience_segment_id, string $contentType = self::contentTypes['getAudienceSegment'][0])
    {
        $request = $this->getAudienceSegmentRequest($audience_segment_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\AirEml\Model\AudienceSegmentResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\AudienceSegmentResponse' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\AudienceSegmentResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 401:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 403:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 404:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 500:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                default:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\AirEml\Model\AudienceSegmentResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    try {
                        $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                    } catch (\JsonException $exception) {
                        throw new ApiException(
                            sprintf(
                                'Error JSON decoding server response (%s)',
                                $request->getUri()
                            ),
                            $statusCode,
                            $response->getHeaders(),
                            $content
                        );
                    }
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\AudienceSegmentResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 401:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 403:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 404:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 500:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                default:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getAudienceSegmentAsync
     *
     * Retrieve an Existing Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAudienceSegment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getAudienceSegmentAsync($audience_segment_id, string $contentType = self::contentTypes['getAudienceSegment'][0])
    {
        return $this->getAudienceSegmentAsyncWithHttpInfo($audience_segment_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getAudienceSegmentAsyncWithHttpInfo
     *
     * Retrieve an Existing Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAudienceSegment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getAudienceSegmentAsyncWithHttpInfo($audience_segment_id, string $contentType = self::contentTypes['getAudienceSegment'][0])
    {
        $returnType = '\AirEml\Model\AudienceSegmentResponse';
        $request = $this->getAudienceSegmentRequest($audience_segment_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getAudienceSegment'
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAudienceSegment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getAudienceSegmentRequest($audience_segment_id, string $contentType = self::contentTypes['getAudienceSegment'][0])
    {

        // verify the required parameter 'audience_segment_id' is set
        if ($audience_segment_id === null || (is_array($audience_segment_id) && count($audience_segment_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_segment_id when calling getAudienceSegment'
            );
        }


        $resourcePath = '/api/v1/audience/segments/{audience_segment_id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($audience_segment_id !== null) {
            $resourcePath = str_replace(
                '{' . 'audience_segment_id' . '}',
                ObjectSerializer::toPathValue($audience_segment_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }
        if ($this->config->getAccessToken() != '') {
            $defaultHeaders['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getAudienceSegmentFilter
     *
     * Retrieve an Existing Filter from the Audience Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $audience_filter_id The ID of the Filter (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAudienceSegmentFilter'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \AirEml\Model\AudienceFilterResponse|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error
     */
    public function getAudienceSegmentFilter($audience_segment_id, $audience_filter_id, string $contentType = self::contentTypes['getAudienceSegmentFilter'][0])
    {
        list($response) = $this->getAudienceSegmentFilterWithHttpInfo($audience_segment_id, $audience_filter_id, $contentType);
        return $response;
    }

    /**
     * Operation getAudienceSegmentFilterWithHttpInfo
     *
     * Retrieve an Existing Filter from the Audience Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $audience_filter_id The ID of the Filter (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAudienceSegmentFilter'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \AirEml\Model\AudienceFilterResponse|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error, HTTP status code, HTTP response headers (array of strings)
     */
    public function getAudienceSegmentFilterWithHttpInfo($audience_segment_id, $audience_filter_id, string $contentType = self::contentTypes['getAudienceSegmentFilter'][0])
    {
        $request = $this->getAudienceSegmentFilterRequest($audience_segment_id, $audience_filter_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\AirEml\Model\AudienceFilterResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\AudienceFilterResponse' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\AudienceFilterResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 401:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 403:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 404:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 500:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                default:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\AirEml\Model\AudienceFilterResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    try {
                        $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                    } catch (\JsonException $exception) {
                        throw new ApiException(
                            sprintf(
                                'Error JSON decoding server response (%s)',
                                $request->getUri()
                            ),
                            $statusCode,
                            $response->getHeaders(),
                            $content
                        );
                    }
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\AudienceFilterResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 401:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 403:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 404:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 500:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                default:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getAudienceSegmentFilterAsync
     *
     * Retrieve an Existing Filter from the Audience Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $audience_filter_id The ID of the Filter (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAudienceSegmentFilter'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getAudienceSegmentFilterAsync($audience_segment_id, $audience_filter_id, string $contentType = self::contentTypes['getAudienceSegmentFilter'][0])
    {
        return $this->getAudienceSegmentFilterAsyncWithHttpInfo($audience_segment_id, $audience_filter_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getAudienceSegmentFilterAsyncWithHttpInfo
     *
     * Retrieve an Existing Filter from the Audience Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $audience_filter_id The ID of the Filter (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAudienceSegmentFilter'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getAudienceSegmentFilterAsyncWithHttpInfo($audience_segment_id, $audience_filter_id, string $contentType = self::contentTypes['getAudienceSegmentFilter'][0])
    {
        $returnType = '\AirEml\Model\AudienceFilterResponse';
        $request = $this->getAudienceSegmentFilterRequest($audience_segment_id, $audience_filter_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getAudienceSegmentFilter'
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $audience_filter_id The ID of the Filter (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAudienceSegmentFilter'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getAudienceSegmentFilterRequest($audience_segment_id, $audience_filter_id, string $contentType = self::contentTypes['getAudienceSegmentFilter'][0])
    {

        // verify the required parameter 'audience_segment_id' is set
        if ($audience_segment_id === null || (is_array($audience_segment_id) && count($audience_segment_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_segment_id when calling getAudienceSegmentFilter'
            );
        }

        // verify the required parameter 'audience_filter_id' is set
        if ($audience_filter_id === null || (is_array($audience_filter_id) && count($audience_filter_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_filter_id when calling getAudienceSegmentFilter'
            );
        }


        $resourcePath = '/api/v1/audience/segments/{audience_segment_id}/filters/{audience_filter_id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($audience_segment_id !== null) {
            $resourcePath = str_replace(
                '{' . 'audience_segment_id' . '}',
                ObjectSerializer::toPathValue($audience_segment_id),
                $resourcePath
            );
        }
        // path params
        if ($audience_filter_id !== null) {
            $resourcePath = str_replace(
                '{' . 'audience_filter_id' . '}',
                ObjectSerializer::toPathValue($audience_filter_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }
        if ($this->config->getAccessToken() != '') {
            $defaultHeaders['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getAudienceTag
     *
     * Retrieve an Existing Tag
     *
     * @param  string $audience_tag_id The ID of the Tag (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAudienceTag'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \AirEml\Model\AudienceTagResponse|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error
     */
    public function getAudienceTag($audience_tag_id, string $contentType = self::contentTypes['getAudienceTag'][0])
    {
        list($response) = $this->getAudienceTagWithHttpInfo($audience_tag_id, $contentType);
        return $response;
    }

    /**
     * Operation getAudienceTagWithHttpInfo
     *
     * Retrieve an Existing Tag
     *
     * @param  string $audience_tag_id The ID of the Tag (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAudienceTag'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \AirEml\Model\AudienceTagResponse|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error, HTTP status code, HTTP response headers (array of strings)
     */
    public function getAudienceTagWithHttpInfo($audience_tag_id, string $contentType = self::contentTypes['getAudienceTag'][0])
    {
        $request = $this->getAudienceTagRequest($audience_tag_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\AirEml\Model\AudienceTagResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\AudienceTagResponse' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\AudienceTagResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 401:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 403:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 404:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 500:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                default:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\AirEml\Model\AudienceTagResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    try {
                        $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                    } catch (\JsonException $exception) {
                        throw new ApiException(
                            sprintf(
                                'Error JSON decoding server response (%s)',
                                $request->getUri()
                            ),
                            $statusCode,
                            $response->getHeaders(),
                            $content
                        );
                    }
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\AudienceTagResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 401:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 403:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 404:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 500:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                default:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getAudienceTagAsync
     *
     * Retrieve an Existing Tag
     *
     * @param  string $audience_tag_id The ID of the Tag (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAudienceTag'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getAudienceTagAsync($audience_tag_id, string $contentType = self::contentTypes['getAudienceTag'][0])
    {
        return $this->getAudienceTagAsyncWithHttpInfo($audience_tag_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getAudienceTagAsyncWithHttpInfo
     *
     * Retrieve an Existing Tag
     *
     * @param  string $audience_tag_id The ID of the Tag (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAudienceTag'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getAudienceTagAsyncWithHttpInfo($audience_tag_id, string $contentType = self::contentTypes['getAudienceTag'][0])
    {
        $returnType = '\AirEml\Model\AudienceTagResponse';
        $request = $this->getAudienceTagRequest($audience_tag_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getAudienceTag'
     *
     * @param  string $audience_tag_id The ID of the Tag (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAudienceTag'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getAudienceTagRequest($audience_tag_id, string $contentType = self::contentTypes['getAudienceTag'][0])
    {

        // verify the required parameter 'audience_tag_id' is set
        if ($audience_tag_id === null || (is_array($audience_tag_id) && count($audience_tag_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_tag_id when calling getAudienceTag'
            );
        }


        $resourcePath = '/api/v1/audience/tags/{audience_tag_id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($audience_tag_id !== null) {
            $resourcePath = str_replace(
                '{' . 'audience_tag_id' . '}',
                ObjectSerializer::toPathValue($audience_tag_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }
        if ($this->config->getAccessToken() != '') {
            $defaultHeaders['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation listAudienceRecipientSegments
     *
     * List All Segments from the Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $cursor Which &#39;cursor&#39; of paginated results to return. (optional)
     * @param  int $per_page Number of items returned per page (optional, default to 20)
     * @param  string $order_by The field to order the results by (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['listAudienceRecipientSegments'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \AirEml\Model\AudienceRecipientSegmentCollectionResponse|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error
     */
    public function listAudienceRecipientSegments($audience_recipient_id, $cursor = null, $per_page = 20, $order_by = null, string $contentType = self::contentTypes['listAudienceRecipientSegments'][0])
    {
        list($response) = $this->listAudienceRecipientSegmentsWithHttpInfo($audience_recipient_id, $cursor, $per_page, $order_by, $contentType);
        return $response;
    }

    /**
     * Operation listAudienceRecipientSegmentsWithHttpInfo
     *
     * List All Segments from the Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $cursor Which &#39;cursor&#39; of paginated results to return. (optional)
     * @param  int $per_page Number of items returned per page (optional, default to 20)
     * @param  string $order_by The field to order the results by (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['listAudienceRecipientSegments'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \AirEml\Model\AudienceRecipientSegmentCollectionResponse|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error, HTTP status code, HTTP response headers (array of strings)
     */
    public function listAudienceRecipientSegmentsWithHttpInfo($audience_recipient_id, $cursor = null, $per_page = 20, $order_by = null, string $contentType = self::contentTypes['listAudienceRecipientSegments'][0])
    {
        $request = $this->listAudienceRecipientSegmentsRequest($audience_recipient_id, $cursor, $per_page, $order_by, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\AirEml\Model\AudienceRecipientSegmentCollectionResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\AudienceRecipientSegmentCollectionResponse' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\AudienceRecipientSegmentCollectionResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 401:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 403:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 500:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                default:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\AirEml\Model\AudienceRecipientSegmentCollectionResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    try {
                        $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                    } catch (\JsonException $exception) {
                        throw new ApiException(
                            sprintf(
                                'Error JSON decoding server response (%s)',
                                $request->getUri()
                            ),
                            $statusCode,
                            $response->getHeaders(),
                            $content
                        );
                    }
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\AudienceRecipientSegmentCollectionResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 401:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 403:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 500:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                default:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation listAudienceRecipientSegmentsAsync
     *
     * List All Segments from the Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $cursor Which &#39;cursor&#39; of paginated results to return. (optional)
     * @param  int $per_page Number of items returned per page (optional, default to 20)
     * @param  string $order_by The field to order the results by (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['listAudienceRecipientSegments'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function listAudienceRecipientSegmentsAsync($audience_recipient_id, $cursor = null, $per_page = 20, $order_by = null, string $contentType = self::contentTypes['listAudienceRecipientSegments'][0])
    {
        return $this->listAudienceRecipientSegmentsAsyncWithHttpInfo($audience_recipient_id, $cursor, $per_page, $order_by, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation listAudienceRecipientSegmentsAsyncWithHttpInfo
     *
     * List All Segments from the Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $cursor Which &#39;cursor&#39; of paginated results to return. (optional)
     * @param  int $per_page Number of items returned per page (optional, default to 20)
     * @param  string $order_by The field to order the results by (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['listAudienceRecipientSegments'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function listAudienceRecipientSegmentsAsyncWithHttpInfo($audience_recipient_id, $cursor = null, $per_page = 20, $order_by = null, string $contentType = self::contentTypes['listAudienceRecipientSegments'][0])
    {
        $returnType = '\AirEml\Model\AudienceRecipientSegmentCollectionResponse';
        $request = $this->listAudienceRecipientSegmentsRequest($audience_recipient_id, $cursor, $per_page, $order_by, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'listAudienceRecipientSegments'
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  string $cursor Which &#39;cursor&#39; of paginated results to return. (optional)
     * @param  int $per_page Number of items returned per page (optional, default to 20)
     * @param  string $order_by The field to order the results by (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['listAudienceRecipientSegments'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function listAudienceRecipientSegmentsRequest($audience_recipient_id, $cursor = null, $per_page = 20, $order_by = null, string $contentType = self::contentTypes['listAudienceRecipientSegments'][0])
    {

        // verify the required parameter 'audience_recipient_id' is set
        if ($audience_recipient_id === null || (is_array($audience_recipient_id) && count($audience_recipient_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_recipient_id when calling listAudienceRecipientSegments'
            );
        }


        if ($per_page !== null && $per_page > 200) {
            throw new \InvalidArgumentException('invalid value for "$per_page" when calling AudienceApi.listAudienceRecipientSegments, must be smaller than or equal to 200.');
        }
        if ($per_page !== null && $per_page < 1) {
            throw new \InvalidArgumentException('invalid value for "$per_page" when calling AudienceApi.listAudienceRecipientSegments, must be bigger than or equal to 1.');
        }
        


        $resourcePath = '/api/v1/audience/recipients/{audience_recipient_id}/segments';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $cursor,
            'cursor', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $per_page,
            'per_page', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $order_by,
            'order_by', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);


        // path params
        if ($audience_recipient_id !== null) {
            $resourcePath = str_replace(
                '{' . 'audience_recipient_id' . '}',
                ObjectSerializer::toPathValue($audience_recipient_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }
        if ($this->config->getAccessToken() != '') {
            $defaultHeaders['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation listAudienceRecipients
     *
     * List All Recipients
     *
     * @param  string $cursor Which &#39;cursor&#39; of paginated results to return. (optional)
     * @param  int $per_page Number of items returned per page (optional, default to 20)
     * @param  string $order_by The field to order the results by (optional)
     * @param  string $external_id The external id of the Recipient (optional)
     * @param  string $recipient_id The ID of the Recipient (optional)
     * @param  string $contact_address The Contact Address of the Recipient (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['listAudienceRecipients'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \AirEml\Model\AudienceRecipientCollectionResponse|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error
     */
    public function listAudienceRecipients($cursor = null, $per_page = 20, $order_by = null, $external_id = null, $recipient_id = null, $contact_address = null, string $contentType = self::contentTypes['listAudienceRecipients'][0])
    {
        list($response) = $this->listAudienceRecipientsWithHttpInfo($cursor, $per_page, $order_by, $external_id, $recipient_id, $contact_address, $contentType);
        return $response;
    }

    /**
     * Operation listAudienceRecipientsWithHttpInfo
     *
     * List All Recipients
     *
     * @param  string $cursor Which &#39;cursor&#39; of paginated results to return. (optional)
     * @param  int $per_page Number of items returned per page (optional, default to 20)
     * @param  string $order_by The field to order the results by (optional)
     * @param  string $external_id The external id of the Recipient (optional)
     * @param  string $recipient_id The ID of the Recipient (optional)
     * @param  string $contact_address The Contact Address of the Recipient (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['listAudienceRecipients'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \AirEml\Model\AudienceRecipientCollectionResponse|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error, HTTP status code, HTTP response headers (array of strings)
     */
    public function listAudienceRecipientsWithHttpInfo($cursor = null, $per_page = 20, $order_by = null, $external_id = null, $recipient_id = null, $contact_address = null, string $contentType = self::contentTypes['listAudienceRecipients'][0])
    {
        $request = $this->listAudienceRecipientsRequest($cursor, $per_page, $order_by, $external_id, $recipient_id, $contact_address, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\AirEml\Model\AudienceRecipientCollectionResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\AudienceRecipientCollectionResponse' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\AudienceRecipientCollectionResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 401:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 403:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 500:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                default:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\AirEml\Model\AudienceRecipientCollectionResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    try {
                        $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                    } catch (\JsonException $exception) {
                        throw new ApiException(
                            sprintf(
                                'Error JSON decoding server response (%s)',
                                $request->getUri()
                            ),
                            $statusCode,
                            $response->getHeaders(),
                            $content
                        );
                    }
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\AudienceRecipientCollectionResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 401:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 403:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 500:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                default:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation listAudienceRecipientsAsync
     *
     * List All Recipients
     *
     * @param  string $cursor Which &#39;cursor&#39; of paginated results to return. (optional)
     * @param  int $per_page Number of items returned per page (optional, default to 20)
     * @param  string $order_by The field to order the results by (optional)
     * @param  string $external_id The external id of the Recipient (optional)
     * @param  string $recipient_id The ID of the Recipient (optional)
     * @param  string $contact_address The Contact Address of the Recipient (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['listAudienceRecipients'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function listAudienceRecipientsAsync($cursor = null, $per_page = 20, $order_by = null, $external_id = null, $recipient_id = null, $contact_address = null, string $contentType = self::contentTypes['listAudienceRecipients'][0])
    {
        return $this->listAudienceRecipientsAsyncWithHttpInfo($cursor, $per_page, $order_by, $external_id, $recipient_id, $contact_address, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation listAudienceRecipientsAsyncWithHttpInfo
     *
     * List All Recipients
     *
     * @param  string $cursor Which &#39;cursor&#39; of paginated results to return. (optional)
     * @param  int $per_page Number of items returned per page (optional, default to 20)
     * @param  string $order_by The field to order the results by (optional)
     * @param  string $external_id The external id of the Recipient (optional)
     * @param  string $recipient_id The ID of the Recipient (optional)
     * @param  string $contact_address The Contact Address of the Recipient (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['listAudienceRecipients'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function listAudienceRecipientsAsyncWithHttpInfo($cursor = null, $per_page = 20, $order_by = null, $external_id = null, $recipient_id = null, $contact_address = null, string $contentType = self::contentTypes['listAudienceRecipients'][0])
    {
        $returnType = '\AirEml\Model\AudienceRecipientCollectionResponse';
        $request = $this->listAudienceRecipientsRequest($cursor, $per_page, $order_by, $external_id, $recipient_id, $contact_address, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'listAudienceRecipients'
     *
     * @param  string $cursor Which &#39;cursor&#39; of paginated results to return. (optional)
     * @param  int $per_page Number of items returned per page (optional, default to 20)
     * @param  string $order_by The field to order the results by (optional)
     * @param  string $external_id The external id of the Recipient (optional)
     * @param  string $recipient_id The ID of the Recipient (optional)
     * @param  string $contact_address The Contact Address of the Recipient (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['listAudienceRecipients'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function listAudienceRecipientsRequest($cursor = null, $per_page = 20, $order_by = null, $external_id = null, $recipient_id = null, $contact_address = null, string $contentType = self::contentTypes['listAudienceRecipients'][0])
    {


        if ($per_page !== null && $per_page > 200) {
            throw new \InvalidArgumentException('invalid value for "$per_page" when calling AudienceApi.listAudienceRecipients, must be smaller than or equal to 200.');
        }
        if ($per_page !== null && $per_page < 1) {
            throw new \InvalidArgumentException('invalid value for "$per_page" when calling AudienceApi.listAudienceRecipients, must be bigger than or equal to 1.');
        }
        





        $resourcePath = '/api/v1/audience/recipients';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $cursor,
            'cursor', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $per_page,
            'per_page', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $order_by,
            'order_by', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $external_id,
            'external_id', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $recipient_id,
            'recipient_id', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $contact_address,
            'contact_address', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);




        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }
        if ($this->config->getAccessToken() != '') {
            $defaultHeaders['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation listAudienceSegmentFilters
     *
     * List All Filters from the Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $cursor Which &#39;cursor&#39; of paginated results to return. (optional)
     * @param  int $per_page Number of items returned per page (optional, default to 20)
     * @param  string $order_by The field to order the results by (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['listAudienceSegmentFilters'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \AirEml\Model\AudienceFilterCollectionResponse|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error
     */
    public function listAudienceSegmentFilters($audience_segment_id, $cursor = null, $per_page = 20, $order_by = null, string $contentType = self::contentTypes['listAudienceSegmentFilters'][0])
    {
        list($response) = $this->listAudienceSegmentFiltersWithHttpInfo($audience_segment_id, $cursor, $per_page, $order_by, $contentType);
        return $response;
    }

    /**
     * Operation listAudienceSegmentFiltersWithHttpInfo
     *
     * List All Filters from the Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $cursor Which &#39;cursor&#39; of paginated results to return. (optional)
     * @param  int $per_page Number of items returned per page (optional, default to 20)
     * @param  string $order_by The field to order the results by (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['listAudienceSegmentFilters'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \AirEml\Model\AudienceFilterCollectionResponse|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error, HTTP status code, HTTP response headers (array of strings)
     */
    public function listAudienceSegmentFiltersWithHttpInfo($audience_segment_id, $cursor = null, $per_page = 20, $order_by = null, string $contentType = self::contentTypes['listAudienceSegmentFilters'][0])
    {
        $request = $this->listAudienceSegmentFiltersRequest($audience_segment_id, $cursor, $per_page, $order_by, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\AirEml\Model\AudienceFilterCollectionResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\AudienceFilterCollectionResponse' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\AudienceFilterCollectionResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 401:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 403:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 500:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                default:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\AirEml\Model\AudienceFilterCollectionResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    try {
                        $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                    } catch (\JsonException $exception) {
                        throw new ApiException(
                            sprintf(
                                'Error JSON decoding server response (%s)',
                                $request->getUri()
                            ),
                            $statusCode,
                            $response->getHeaders(),
                            $content
                        );
                    }
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\AudienceFilterCollectionResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 401:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 403:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 500:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                default:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation listAudienceSegmentFiltersAsync
     *
     * List All Filters from the Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $cursor Which &#39;cursor&#39; of paginated results to return. (optional)
     * @param  int $per_page Number of items returned per page (optional, default to 20)
     * @param  string $order_by The field to order the results by (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['listAudienceSegmentFilters'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function listAudienceSegmentFiltersAsync($audience_segment_id, $cursor = null, $per_page = 20, $order_by = null, string $contentType = self::contentTypes['listAudienceSegmentFilters'][0])
    {
        return $this->listAudienceSegmentFiltersAsyncWithHttpInfo($audience_segment_id, $cursor, $per_page, $order_by, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation listAudienceSegmentFiltersAsyncWithHttpInfo
     *
     * List All Filters from the Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $cursor Which &#39;cursor&#39; of paginated results to return. (optional)
     * @param  int $per_page Number of items returned per page (optional, default to 20)
     * @param  string $order_by The field to order the results by (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['listAudienceSegmentFilters'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function listAudienceSegmentFiltersAsyncWithHttpInfo($audience_segment_id, $cursor = null, $per_page = 20, $order_by = null, string $contentType = self::contentTypes['listAudienceSegmentFilters'][0])
    {
        $returnType = '\AirEml\Model\AudienceFilterCollectionResponse';
        $request = $this->listAudienceSegmentFiltersRequest($audience_segment_id, $cursor, $per_page, $order_by, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'listAudienceSegmentFilters'
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $cursor Which &#39;cursor&#39; of paginated results to return. (optional)
     * @param  int $per_page Number of items returned per page (optional, default to 20)
     * @param  string $order_by The field to order the results by (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['listAudienceSegmentFilters'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function listAudienceSegmentFiltersRequest($audience_segment_id, $cursor = null, $per_page = 20, $order_by = null, string $contentType = self::contentTypes['listAudienceSegmentFilters'][0])
    {

        // verify the required parameter 'audience_segment_id' is set
        if ($audience_segment_id === null || (is_array($audience_segment_id) && count($audience_segment_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_segment_id when calling listAudienceSegmentFilters'
            );
        }


        if ($per_page !== null && $per_page > 200) {
            throw new \InvalidArgumentException('invalid value for "$per_page" when calling AudienceApi.listAudienceSegmentFilters, must be smaller than or equal to 200.');
        }
        if ($per_page !== null && $per_page < 1) {
            throw new \InvalidArgumentException('invalid value for "$per_page" when calling AudienceApi.listAudienceSegmentFilters, must be bigger than or equal to 1.');
        }
        


        $resourcePath = '/api/v1/audience/segments/{audience_segment_id}/filters';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $cursor,
            'cursor', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $per_page,
            'per_page', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $order_by,
            'order_by', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);


        // path params
        if ($audience_segment_id !== null) {
            $resourcePath = str_replace(
                '{' . 'audience_segment_id' . '}',
                ObjectSerializer::toPathValue($audience_segment_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }
        if ($this->config->getAccessToken() != '') {
            $defaultHeaders['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation listAudienceSegments
     *
     * List All Segments
     *
     * @param  string $cursor Which &#39;cursor&#39; of paginated results to return. (optional)
     * @param  int $per_page Number of items returned per page (optional, default to 20)
     * @param  string $order_by The field to order the results by (optional)
     * @param  string $name The name of the Segment (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['listAudienceSegments'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \AirEml\Model\AudienceSegmentCollectionResponse|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error
     */
    public function listAudienceSegments($cursor = null, $per_page = 20, $order_by = null, $name = null, string $contentType = self::contentTypes['listAudienceSegments'][0])
    {
        list($response) = $this->listAudienceSegmentsWithHttpInfo($cursor, $per_page, $order_by, $name, $contentType);
        return $response;
    }

    /**
     * Operation listAudienceSegmentsWithHttpInfo
     *
     * List All Segments
     *
     * @param  string $cursor Which &#39;cursor&#39; of paginated results to return. (optional)
     * @param  int $per_page Number of items returned per page (optional, default to 20)
     * @param  string $order_by The field to order the results by (optional)
     * @param  string $name The name of the Segment (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['listAudienceSegments'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \AirEml\Model\AudienceSegmentCollectionResponse|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error, HTTP status code, HTTP response headers (array of strings)
     */
    public function listAudienceSegmentsWithHttpInfo($cursor = null, $per_page = 20, $order_by = null, $name = null, string $contentType = self::contentTypes['listAudienceSegments'][0])
    {
        $request = $this->listAudienceSegmentsRequest($cursor, $per_page, $order_by, $name, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\AirEml\Model\AudienceSegmentCollectionResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\AudienceSegmentCollectionResponse' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\AudienceSegmentCollectionResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 401:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 403:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 500:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                default:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\AirEml\Model\AudienceSegmentCollectionResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    try {
                        $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                    } catch (\JsonException $exception) {
                        throw new ApiException(
                            sprintf(
                                'Error JSON decoding server response (%s)',
                                $request->getUri()
                            ),
                            $statusCode,
                            $response->getHeaders(),
                            $content
                        );
                    }
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\AudienceSegmentCollectionResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 401:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 403:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 500:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                default:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation listAudienceSegmentsAsync
     *
     * List All Segments
     *
     * @param  string $cursor Which &#39;cursor&#39; of paginated results to return. (optional)
     * @param  int $per_page Number of items returned per page (optional, default to 20)
     * @param  string $order_by The field to order the results by (optional)
     * @param  string $name The name of the Segment (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['listAudienceSegments'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function listAudienceSegmentsAsync($cursor = null, $per_page = 20, $order_by = null, $name = null, string $contentType = self::contentTypes['listAudienceSegments'][0])
    {
        return $this->listAudienceSegmentsAsyncWithHttpInfo($cursor, $per_page, $order_by, $name, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation listAudienceSegmentsAsyncWithHttpInfo
     *
     * List All Segments
     *
     * @param  string $cursor Which &#39;cursor&#39; of paginated results to return. (optional)
     * @param  int $per_page Number of items returned per page (optional, default to 20)
     * @param  string $order_by The field to order the results by (optional)
     * @param  string $name The name of the Segment (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['listAudienceSegments'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function listAudienceSegmentsAsyncWithHttpInfo($cursor = null, $per_page = 20, $order_by = null, $name = null, string $contentType = self::contentTypes['listAudienceSegments'][0])
    {
        $returnType = '\AirEml\Model\AudienceSegmentCollectionResponse';
        $request = $this->listAudienceSegmentsRequest($cursor, $per_page, $order_by, $name, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'listAudienceSegments'
     *
     * @param  string $cursor Which &#39;cursor&#39; of paginated results to return. (optional)
     * @param  int $per_page Number of items returned per page (optional, default to 20)
     * @param  string $order_by The field to order the results by (optional)
     * @param  string $name The name of the Segment (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['listAudienceSegments'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function listAudienceSegmentsRequest($cursor = null, $per_page = 20, $order_by = null, $name = null, string $contentType = self::contentTypes['listAudienceSegments'][0])
    {


        if ($per_page !== null && $per_page > 200) {
            throw new \InvalidArgumentException('invalid value for "$per_page" when calling AudienceApi.listAudienceSegments, must be smaller than or equal to 200.');
        }
        if ($per_page !== null && $per_page < 1) {
            throw new \InvalidArgumentException('invalid value for "$per_page" when calling AudienceApi.listAudienceSegments, must be bigger than or equal to 1.');
        }
        



        $resourcePath = '/api/v1/audience/segments';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $cursor,
            'cursor', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $per_page,
            'per_page', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $order_by,
            'order_by', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $name,
            'name', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);




        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }
        if ($this->config->getAccessToken() != '') {
            $defaultHeaders['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation listAudienceTags
     *
     * List All Tags
     *
     * @param  string $cursor Which &#39;cursor&#39; of paginated results to return. (optional)
     * @param  int $per_page Number of items returned per page (optional, default to 20)
     * @param  string $order_by The field to order the results by (optional)
     * @param  string $name The name of the Tag (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['listAudienceTags'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \AirEml\Model\AudienceTagCollectionResponse|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error
     */
    public function listAudienceTags($cursor = null, $per_page = 20, $order_by = null, $name = null, string $contentType = self::contentTypes['listAudienceTags'][0])
    {
        list($response) = $this->listAudienceTagsWithHttpInfo($cursor, $per_page, $order_by, $name, $contentType);
        return $response;
    }

    /**
     * Operation listAudienceTagsWithHttpInfo
     *
     * List All Tags
     *
     * @param  string $cursor Which &#39;cursor&#39; of paginated results to return. (optional)
     * @param  int $per_page Number of items returned per page (optional, default to 20)
     * @param  string $order_by The field to order the results by (optional)
     * @param  string $name The name of the Tag (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['listAudienceTags'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \AirEml\Model\AudienceTagCollectionResponse|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error, HTTP status code, HTTP response headers (array of strings)
     */
    public function listAudienceTagsWithHttpInfo($cursor = null, $per_page = 20, $order_by = null, $name = null, string $contentType = self::contentTypes['listAudienceTags'][0])
    {
        $request = $this->listAudienceTagsRequest($cursor, $per_page, $order_by, $name, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\AirEml\Model\AudienceTagCollectionResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\AudienceTagCollectionResponse' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\AudienceTagCollectionResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 401:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 403:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 500:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                default:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\AirEml\Model\AudienceTagCollectionResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    try {
                        $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                    } catch (\JsonException $exception) {
                        throw new ApiException(
                            sprintf(
                                'Error JSON decoding server response (%s)',
                                $request->getUri()
                            ),
                            $statusCode,
                            $response->getHeaders(),
                            $content
                        );
                    }
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\AudienceTagCollectionResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 401:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 403:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 500:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                default:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation listAudienceTagsAsync
     *
     * List All Tags
     *
     * @param  string $cursor Which &#39;cursor&#39; of paginated results to return. (optional)
     * @param  int $per_page Number of items returned per page (optional, default to 20)
     * @param  string $order_by The field to order the results by (optional)
     * @param  string $name The name of the Tag (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['listAudienceTags'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function listAudienceTagsAsync($cursor = null, $per_page = 20, $order_by = null, $name = null, string $contentType = self::contentTypes['listAudienceTags'][0])
    {
        return $this->listAudienceTagsAsyncWithHttpInfo($cursor, $per_page, $order_by, $name, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation listAudienceTagsAsyncWithHttpInfo
     *
     * List All Tags
     *
     * @param  string $cursor Which &#39;cursor&#39; of paginated results to return. (optional)
     * @param  int $per_page Number of items returned per page (optional, default to 20)
     * @param  string $order_by The field to order the results by (optional)
     * @param  string $name The name of the Tag (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['listAudienceTags'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function listAudienceTagsAsyncWithHttpInfo($cursor = null, $per_page = 20, $order_by = null, $name = null, string $contentType = self::contentTypes['listAudienceTags'][0])
    {
        $returnType = '\AirEml\Model\AudienceTagCollectionResponse';
        $request = $this->listAudienceTagsRequest($cursor, $per_page, $order_by, $name, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'listAudienceTags'
     *
     * @param  string $cursor Which &#39;cursor&#39; of paginated results to return. (optional)
     * @param  int $per_page Number of items returned per page (optional, default to 20)
     * @param  string $order_by The field to order the results by (optional)
     * @param  string $name The name of the Tag (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['listAudienceTags'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function listAudienceTagsRequest($cursor = null, $per_page = 20, $order_by = null, $name = null, string $contentType = self::contentTypes['listAudienceTags'][0])
    {


        if ($per_page !== null && $per_page > 200) {
            throw new \InvalidArgumentException('invalid value for "$per_page" when calling AudienceApi.listAudienceTags, must be smaller than or equal to 200.');
        }
        if ($per_page !== null && $per_page < 1) {
            throw new \InvalidArgumentException('invalid value for "$per_page" when calling AudienceApi.listAudienceTags, must be bigger than or equal to 1.');
        }
        



        $resourcePath = '/api/v1/audience/tags';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $cursor,
            'cursor', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $per_page,
            'per_page', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $order_by,
            'order_by', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $name,
            'name', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);




        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }
        if ($this->config->getAccessToken() != '') {
            $defaultHeaders['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation updateAssignActiveStatusToAudienceSegment
     *
     * Activate a Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAssignActiveStatusToAudienceSegment'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return void
     */
    public function updateAssignActiveStatusToAudienceSegment($audience_segment_id, string $contentType = self::contentTypes['updateAssignActiveStatusToAudienceSegment'][0])
    {
        $this->updateAssignActiveStatusToAudienceSegmentWithHttpInfo($audience_segment_id, $contentType);
    }

    /**
     * Operation updateAssignActiveStatusToAudienceSegmentWithHttpInfo
     *
     * Activate a Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAssignActiveStatusToAudienceSegment'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of null, HTTP status code, HTTP response headers (array of strings)
     */
    public function updateAssignActiveStatusToAudienceSegmentWithHttpInfo($audience_segment_id, string $contentType = self::contentTypes['updateAssignActiveStatusToAudienceSegment'][0])
    {
        $request = $this->updateAssignActiveStatusToAudienceSegmentRequest($audience_segment_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return [null, $statusCode, $response->getHeaders()];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 401:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 403:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 404:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 500:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                default:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation updateAssignActiveStatusToAudienceSegmentAsync
     *
     * Activate a Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAssignActiveStatusToAudienceSegment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function updateAssignActiveStatusToAudienceSegmentAsync($audience_segment_id, string $contentType = self::contentTypes['updateAssignActiveStatusToAudienceSegment'][0])
    {
        return $this->updateAssignActiveStatusToAudienceSegmentAsyncWithHttpInfo($audience_segment_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation updateAssignActiveStatusToAudienceSegmentAsyncWithHttpInfo
     *
     * Activate a Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAssignActiveStatusToAudienceSegment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function updateAssignActiveStatusToAudienceSegmentAsyncWithHttpInfo($audience_segment_id, string $contentType = self::contentTypes['updateAssignActiveStatusToAudienceSegment'][0])
    {
        $returnType = '';
        $request = $this->updateAssignActiveStatusToAudienceSegmentRequest($audience_segment_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    return [null, $response->getStatusCode(), $response->getHeaders()];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'updateAssignActiveStatusToAudienceSegment'
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAssignActiveStatusToAudienceSegment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function updateAssignActiveStatusToAudienceSegmentRequest($audience_segment_id, string $contentType = self::contentTypes['updateAssignActiveStatusToAudienceSegment'][0])
    {

        // verify the required parameter 'audience_segment_id' is set
        if ($audience_segment_id === null || (is_array($audience_segment_id) && count($audience_segment_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_segment_id when calling updateAssignActiveStatusToAudienceSegment'
            );
        }


        $resourcePath = '/api/v1/audience/segments/{audience_segment_id}/activate';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($audience_segment_id !== null) {
            $resourcePath = str_replace(
                '{' . 'audience_segment_id' . '}',
                ObjectSerializer::toPathValue($audience_segment_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }
        if ($this->config->getAccessToken() != '') {
            $defaultHeaders['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'PUT',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation updateAssignInactiveStatusToAudienceSegment
     *
     * Deactivate a Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAssignInactiveStatusToAudienceSegment'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return void
     */
    public function updateAssignInactiveStatusToAudienceSegment($audience_segment_id, string $contentType = self::contentTypes['updateAssignInactiveStatusToAudienceSegment'][0])
    {
        $this->updateAssignInactiveStatusToAudienceSegmentWithHttpInfo($audience_segment_id, $contentType);
    }

    /**
     * Operation updateAssignInactiveStatusToAudienceSegmentWithHttpInfo
     *
     * Deactivate a Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAssignInactiveStatusToAudienceSegment'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of null, HTTP status code, HTTP response headers (array of strings)
     */
    public function updateAssignInactiveStatusToAudienceSegmentWithHttpInfo($audience_segment_id, string $contentType = self::contentTypes['updateAssignInactiveStatusToAudienceSegment'][0])
    {
        $request = $this->updateAssignInactiveStatusToAudienceSegmentRequest($audience_segment_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return [null, $statusCode, $response->getHeaders()];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 401:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 403:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 404:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 500:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                default:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation updateAssignInactiveStatusToAudienceSegmentAsync
     *
     * Deactivate a Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAssignInactiveStatusToAudienceSegment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function updateAssignInactiveStatusToAudienceSegmentAsync($audience_segment_id, string $contentType = self::contentTypes['updateAssignInactiveStatusToAudienceSegment'][0])
    {
        return $this->updateAssignInactiveStatusToAudienceSegmentAsyncWithHttpInfo($audience_segment_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation updateAssignInactiveStatusToAudienceSegmentAsyncWithHttpInfo
     *
     * Deactivate a Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAssignInactiveStatusToAudienceSegment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function updateAssignInactiveStatusToAudienceSegmentAsyncWithHttpInfo($audience_segment_id, string $contentType = self::contentTypes['updateAssignInactiveStatusToAudienceSegment'][0])
    {
        $returnType = '';
        $request = $this->updateAssignInactiveStatusToAudienceSegmentRequest($audience_segment_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    return [null, $response->getStatusCode(), $response->getHeaders()];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'updateAssignInactiveStatusToAudienceSegment'
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAssignInactiveStatusToAudienceSegment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function updateAssignInactiveStatusToAudienceSegmentRequest($audience_segment_id, string $contentType = self::contentTypes['updateAssignInactiveStatusToAudienceSegment'][0])
    {

        // verify the required parameter 'audience_segment_id' is set
        if ($audience_segment_id === null || (is_array($audience_segment_id) && count($audience_segment_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_segment_id when calling updateAssignInactiveStatusToAudienceSegment'
            );
        }


        $resourcePath = '/api/v1/audience/segments/{audience_segment_id}/deactivate';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($audience_segment_id !== null) {
            $resourcePath = str_replace(
                '{' . 'audience_segment_id' . '}',
                ObjectSerializer::toPathValue($audience_segment_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }
        if ($this->config->getAccessToken() != '') {
            $defaultHeaders['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'PUT',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation updateAudienceRecipient
     *
     * Update a Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  \AirEml\Model\AudienceRecipientRequest $audience_recipient_request audience_recipient_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAudienceRecipient'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \AirEml\Model\AudienceRecipientResponse|\AirEml\Model\ErrorMultiple|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error
     */
    public function updateAudienceRecipient($audience_recipient_id, $audience_recipient_request, string $contentType = self::contentTypes['updateAudienceRecipient'][0])
    {
        list($response) = $this->updateAudienceRecipientWithHttpInfo($audience_recipient_id, $audience_recipient_request, $contentType);
        return $response;
    }

    /**
     * Operation updateAudienceRecipientWithHttpInfo
     *
     * Update a Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  \AirEml\Model\AudienceRecipientRequest $audience_recipient_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAudienceRecipient'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \AirEml\Model\AudienceRecipientResponse|\AirEml\Model\ErrorMultiple|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error, HTTP status code, HTTP response headers (array of strings)
     */
    public function updateAudienceRecipientWithHttpInfo($audience_recipient_id, $audience_recipient_request, string $contentType = self::contentTypes['updateAudienceRecipient'][0])
    {
        $request = $this->updateAudienceRecipientRequest($audience_recipient_id, $audience_recipient_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\AirEml\Model\AudienceRecipientResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\AudienceRecipientResponse' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\AudienceRecipientResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\AirEml\Model\ErrorMultiple' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\ErrorMultiple' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\ErrorMultiple', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 401:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 403:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 404:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 500:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                default:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\AirEml\Model\AudienceRecipientResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    try {
                        $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                    } catch (\JsonException $exception) {
                        throw new ApiException(
                            sprintf(
                                'Error JSON decoding server response (%s)',
                                $request->getUri()
                            ),
                            $statusCode,
                            $response->getHeaders(),
                            $content
                        );
                    }
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\AudienceRecipientResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\ErrorMultiple',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 401:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 403:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 404:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 500:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                default:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation updateAudienceRecipientAsync
     *
     * Update a Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  \AirEml\Model\AudienceRecipientRequest $audience_recipient_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAudienceRecipient'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function updateAudienceRecipientAsync($audience_recipient_id, $audience_recipient_request, string $contentType = self::contentTypes['updateAudienceRecipient'][0])
    {
        return $this->updateAudienceRecipientAsyncWithHttpInfo($audience_recipient_id, $audience_recipient_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation updateAudienceRecipientAsyncWithHttpInfo
     *
     * Update a Recipient
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  \AirEml\Model\AudienceRecipientRequest $audience_recipient_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAudienceRecipient'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function updateAudienceRecipientAsyncWithHttpInfo($audience_recipient_id, $audience_recipient_request, string $contentType = self::contentTypes['updateAudienceRecipient'][0])
    {
        $returnType = '\AirEml\Model\AudienceRecipientResponse';
        $request = $this->updateAudienceRecipientRequest($audience_recipient_id, $audience_recipient_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'updateAudienceRecipient'
     *
     * @param  string $audience_recipient_id The ID of the Recipient (required)
     * @param  \AirEml\Model\AudienceRecipientRequest $audience_recipient_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAudienceRecipient'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function updateAudienceRecipientRequest($audience_recipient_id, $audience_recipient_request, string $contentType = self::contentTypes['updateAudienceRecipient'][0])
    {

        // verify the required parameter 'audience_recipient_id' is set
        if ($audience_recipient_id === null || (is_array($audience_recipient_id) && count($audience_recipient_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_recipient_id when calling updateAudienceRecipient'
            );
        }

        // verify the required parameter 'audience_recipient_request' is set
        if ($audience_recipient_request === null || (is_array($audience_recipient_request) && count($audience_recipient_request) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_recipient_request when calling updateAudienceRecipient'
            );
        }


        $resourcePath = '/api/v1/audience/recipients/{audience_recipient_id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($audience_recipient_id !== null) {
            $resourcePath = str_replace(
                '{' . 'audience_recipient_id' . '}',
                ObjectSerializer::toPathValue($audience_recipient_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($audience_recipient_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($audience_recipient_request));
            } else {
                $httpBody = $audience_recipient_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }
        if ($this->config->getAccessToken() != '') {
            $defaultHeaders['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'PUT',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation updateAudienceSegment
     *
     * Update a Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  \AirEml\Model\AudienceSegmentRequest $audience_segment_request audience_segment_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAudienceSegment'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \AirEml\Model\AudienceSegmentResponse|\AirEml\Model\ErrorMultiple|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error
     */
    public function updateAudienceSegment($audience_segment_id, $audience_segment_request, string $contentType = self::contentTypes['updateAudienceSegment'][0])
    {
        list($response) = $this->updateAudienceSegmentWithHttpInfo($audience_segment_id, $audience_segment_request, $contentType);
        return $response;
    }

    /**
     * Operation updateAudienceSegmentWithHttpInfo
     *
     * Update a Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  \AirEml\Model\AudienceSegmentRequest $audience_segment_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAudienceSegment'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \AirEml\Model\AudienceSegmentResponse|\AirEml\Model\ErrorMultiple|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error, HTTP status code, HTTP response headers (array of strings)
     */
    public function updateAudienceSegmentWithHttpInfo($audience_segment_id, $audience_segment_request, string $contentType = self::contentTypes['updateAudienceSegment'][0])
    {
        $request = $this->updateAudienceSegmentRequest($audience_segment_id, $audience_segment_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\AirEml\Model\AudienceSegmentResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\AudienceSegmentResponse' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\AudienceSegmentResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\AirEml\Model\ErrorMultiple' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\ErrorMultiple' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\ErrorMultiple', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 401:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 403:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 404:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 500:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                default:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\AirEml\Model\AudienceSegmentResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    try {
                        $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                    } catch (\JsonException $exception) {
                        throw new ApiException(
                            sprintf(
                                'Error JSON decoding server response (%s)',
                                $request->getUri()
                            ),
                            $statusCode,
                            $response->getHeaders(),
                            $content
                        );
                    }
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\AudienceSegmentResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\ErrorMultiple',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 401:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 403:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 404:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 500:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                default:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation updateAudienceSegmentAsync
     *
     * Update a Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  \AirEml\Model\AudienceSegmentRequest $audience_segment_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAudienceSegment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function updateAudienceSegmentAsync($audience_segment_id, $audience_segment_request, string $contentType = self::contentTypes['updateAudienceSegment'][0])
    {
        return $this->updateAudienceSegmentAsyncWithHttpInfo($audience_segment_id, $audience_segment_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation updateAudienceSegmentAsyncWithHttpInfo
     *
     * Update a Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  \AirEml\Model\AudienceSegmentRequest $audience_segment_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAudienceSegment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function updateAudienceSegmentAsyncWithHttpInfo($audience_segment_id, $audience_segment_request, string $contentType = self::contentTypes['updateAudienceSegment'][0])
    {
        $returnType = '\AirEml\Model\AudienceSegmentResponse';
        $request = $this->updateAudienceSegmentRequest($audience_segment_id, $audience_segment_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'updateAudienceSegment'
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  \AirEml\Model\AudienceSegmentRequest $audience_segment_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAudienceSegment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function updateAudienceSegmentRequest($audience_segment_id, $audience_segment_request, string $contentType = self::contentTypes['updateAudienceSegment'][0])
    {

        // verify the required parameter 'audience_segment_id' is set
        if ($audience_segment_id === null || (is_array($audience_segment_id) && count($audience_segment_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_segment_id when calling updateAudienceSegment'
            );
        }

        // verify the required parameter 'audience_segment_request' is set
        if ($audience_segment_request === null || (is_array($audience_segment_request) && count($audience_segment_request) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_segment_request when calling updateAudienceSegment'
            );
        }


        $resourcePath = '/api/v1/audience/segments/{audience_segment_id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($audience_segment_id !== null) {
            $resourcePath = str_replace(
                '{' . 'audience_segment_id' . '}',
                ObjectSerializer::toPathValue($audience_segment_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($audience_segment_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($audience_segment_request));
            } else {
                $httpBody = $audience_segment_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }
        if ($this->config->getAccessToken() != '') {
            $defaultHeaders['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'PUT',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation updateAudienceSegmentFilter
     *
     * Update a Filter in the Audience Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $audience_filter_id The ID of the Filter (required)
     * @param  \AirEml\Model\AudienceFilterRequest $audience_filter_request audience_filter_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAudienceSegmentFilter'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \AirEml\Model\AudienceFilterResponse|\AirEml\Model\ErrorMultiple|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error
     */
    public function updateAudienceSegmentFilter($audience_segment_id, $audience_filter_id, $audience_filter_request, string $contentType = self::contentTypes['updateAudienceSegmentFilter'][0])
    {
        list($response) = $this->updateAudienceSegmentFilterWithHttpInfo($audience_segment_id, $audience_filter_id, $audience_filter_request, $contentType);
        return $response;
    }

    /**
     * Operation updateAudienceSegmentFilterWithHttpInfo
     *
     * Update a Filter in the Audience Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $audience_filter_id The ID of the Filter (required)
     * @param  \AirEml\Model\AudienceFilterRequest $audience_filter_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAudienceSegmentFilter'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \AirEml\Model\AudienceFilterResponse|\AirEml\Model\ErrorMultiple|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error, HTTP status code, HTTP response headers (array of strings)
     */
    public function updateAudienceSegmentFilterWithHttpInfo($audience_segment_id, $audience_filter_id, $audience_filter_request, string $contentType = self::contentTypes['updateAudienceSegmentFilter'][0])
    {
        $request = $this->updateAudienceSegmentFilterRequest($audience_segment_id, $audience_filter_id, $audience_filter_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\AirEml\Model\AudienceFilterResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\AudienceFilterResponse' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\AudienceFilterResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\AirEml\Model\ErrorMultiple' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\ErrorMultiple' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\ErrorMultiple', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 401:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 403:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 404:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 500:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                default:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\AirEml\Model\AudienceFilterResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    try {
                        $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                    } catch (\JsonException $exception) {
                        throw new ApiException(
                            sprintf(
                                'Error JSON decoding server response (%s)',
                                $request->getUri()
                            ),
                            $statusCode,
                            $response->getHeaders(),
                            $content
                        );
                    }
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\AudienceFilterResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\ErrorMultiple',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 401:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 403:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 404:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 500:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                default:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation updateAudienceSegmentFilterAsync
     *
     * Update a Filter in the Audience Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $audience_filter_id The ID of the Filter (required)
     * @param  \AirEml\Model\AudienceFilterRequest $audience_filter_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAudienceSegmentFilter'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function updateAudienceSegmentFilterAsync($audience_segment_id, $audience_filter_id, $audience_filter_request, string $contentType = self::contentTypes['updateAudienceSegmentFilter'][0])
    {
        return $this->updateAudienceSegmentFilterAsyncWithHttpInfo($audience_segment_id, $audience_filter_id, $audience_filter_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation updateAudienceSegmentFilterAsyncWithHttpInfo
     *
     * Update a Filter in the Audience Segment
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $audience_filter_id The ID of the Filter (required)
     * @param  \AirEml\Model\AudienceFilterRequest $audience_filter_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAudienceSegmentFilter'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function updateAudienceSegmentFilterAsyncWithHttpInfo($audience_segment_id, $audience_filter_id, $audience_filter_request, string $contentType = self::contentTypes['updateAudienceSegmentFilter'][0])
    {
        $returnType = '\AirEml\Model\AudienceFilterResponse';
        $request = $this->updateAudienceSegmentFilterRequest($audience_segment_id, $audience_filter_id, $audience_filter_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'updateAudienceSegmentFilter'
     *
     * @param  string $audience_segment_id The ID of the Segment (required)
     * @param  string $audience_filter_id The ID of the Filter (required)
     * @param  \AirEml\Model\AudienceFilterRequest $audience_filter_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAudienceSegmentFilter'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function updateAudienceSegmentFilterRequest($audience_segment_id, $audience_filter_id, $audience_filter_request, string $contentType = self::contentTypes['updateAudienceSegmentFilter'][0])
    {

        // verify the required parameter 'audience_segment_id' is set
        if ($audience_segment_id === null || (is_array($audience_segment_id) && count($audience_segment_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_segment_id when calling updateAudienceSegmentFilter'
            );
        }

        // verify the required parameter 'audience_filter_id' is set
        if ($audience_filter_id === null || (is_array($audience_filter_id) && count($audience_filter_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_filter_id when calling updateAudienceSegmentFilter'
            );
        }

        // verify the required parameter 'audience_filter_request' is set
        if ($audience_filter_request === null || (is_array($audience_filter_request) && count($audience_filter_request) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_filter_request when calling updateAudienceSegmentFilter'
            );
        }


        $resourcePath = '/api/v1/audience/segments/{audience_segment_id}/filters/{audience_filter_id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($audience_segment_id !== null) {
            $resourcePath = str_replace(
                '{' . 'audience_segment_id' . '}',
                ObjectSerializer::toPathValue($audience_segment_id),
                $resourcePath
            );
        }
        // path params
        if ($audience_filter_id !== null) {
            $resourcePath = str_replace(
                '{' . 'audience_filter_id' . '}',
                ObjectSerializer::toPathValue($audience_filter_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($audience_filter_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($audience_filter_request));
            } else {
                $httpBody = $audience_filter_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }
        if ($this->config->getAccessToken() != '') {
            $defaultHeaders['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'PUT',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation updateAudienceTag
     *
     * Update a Tag
     *
     * @param  string $audience_tag_id The ID of the Tag (required)
     * @param  \AirEml\Model\AudienceTagRequest $audience_tag_request audience_tag_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAudienceTag'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \AirEml\Model\AudienceTagResponse|\AirEml\Model\ErrorMultiple|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error
     */
    public function updateAudienceTag($audience_tag_id, $audience_tag_request, string $contentType = self::contentTypes['updateAudienceTag'][0])
    {
        list($response) = $this->updateAudienceTagWithHttpInfo($audience_tag_id, $audience_tag_request, $contentType);
        return $response;
    }

    /**
     * Operation updateAudienceTagWithHttpInfo
     *
     * Update a Tag
     *
     * @param  string $audience_tag_id The ID of the Tag (required)
     * @param  \AirEml\Model\AudienceTagRequest $audience_tag_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAudienceTag'] to see the possible values for this operation
     *
     * @throws \AirEml\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \AirEml\Model\AudienceTagResponse|\AirEml\Model\ErrorMultiple|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error|\AirEml\Model\Error, HTTP status code, HTTP response headers (array of strings)
     */
    public function updateAudienceTagWithHttpInfo($audience_tag_id, $audience_tag_request, string $contentType = self::contentTypes['updateAudienceTag'][0])
    {
        $request = $this->updateAudienceTagRequest($audience_tag_id, $audience_tag_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\AirEml\Model\AudienceTagResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\AudienceTagResponse' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\AudienceTagResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\AirEml\Model\ErrorMultiple' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\ErrorMultiple' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\ErrorMultiple', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 401:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 403:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 404:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 500:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                default:
                    if ('\AirEml\Model\Error' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\AirEml\Model\Error' !== 'string') {
                            try {
                                $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                            } catch (\JsonException $exception) {
                                throw new ApiException(
                                    sprintf(
                                        'Error JSON decoding server response (%s)',
                                        $request->getUri()
                                    ),
                                    $statusCode,
                                    $response->getHeaders(),
                                    $content
                                 );
                            }
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\AirEml\Model\Error', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\AirEml\Model\AudienceTagResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    try {
                        $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                    } catch (\JsonException $exception) {
                        throw new ApiException(
                            sprintf(
                                'Error JSON decoding server response (%s)',
                                $request->getUri()
                            ),
                            $statusCode,
                            $response->getHeaders(),
                            $content
                        );
                    }
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\AudienceTagResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\ErrorMultiple',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 401:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 403:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 404:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 500:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                default:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\AirEml\Model\Error',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation updateAudienceTagAsync
     *
     * Update a Tag
     *
     * @param  string $audience_tag_id The ID of the Tag (required)
     * @param  \AirEml\Model\AudienceTagRequest $audience_tag_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAudienceTag'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function updateAudienceTagAsync($audience_tag_id, $audience_tag_request, string $contentType = self::contentTypes['updateAudienceTag'][0])
    {
        return $this->updateAudienceTagAsyncWithHttpInfo($audience_tag_id, $audience_tag_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation updateAudienceTagAsyncWithHttpInfo
     *
     * Update a Tag
     *
     * @param  string $audience_tag_id The ID of the Tag (required)
     * @param  \AirEml\Model\AudienceTagRequest $audience_tag_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAudienceTag'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function updateAudienceTagAsyncWithHttpInfo($audience_tag_id, $audience_tag_request, string $contentType = self::contentTypes['updateAudienceTag'][0])
    {
        $returnType = '\AirEml\Model\AudienceTagResponse';
        $request = $this->updateAudienceTagRequest($audience_tag_id, $audience_tag_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'updateAudienceTag'
     *
     * @param  string $audience_tag_id The ID of the Tag (required)
     * @param  \AirEml\Model\AudienceTagRequest $audience_tag_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateAudienceTag'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function updateAudienceTagRequest($audience_tag_id, $audience_tag_request, string $contentType = self::contentTypes['updateAudienceTag'][0])
    {

        // verify the required parameter 'audience_tag_id' is set
        if ($audience_tag_id === null || (is_array($audience_tag_id) && count($audience_tag_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_tag_id when calling updateAudienceTag'
            );
        }

        // verify the required parameter 'audience_tag_request' is set
        if ($audience_tag_request === null || (is_array($audience_tag_request) && count($audience_tag_request) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $audience_tag_request when calling updateAudienceTag'
            );
        }


        $resourcePath = '/api/v1/audience/tags/{audience_tag_id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($audience_tag_id !== null) {
            $resourcePath = str_replace(
                '{' . 'audience_tag_id' . '}',
                ObjectSerializer::toPathValue($audience_tag_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($audience_tag_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($audience_tag_request));
            } else {
                $httpBody = $audience_tag_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }
        if ($this->config->getAccessToken() != '') {
            $defaultHeaders['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'PUT',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Create http client option
     *
     * @throws \RuntimeException on file opening failure
     * @return array of http client options
     */
    protected function createHttpClientOption()
    {
        $options = [];
        if ($this->config->getDebug()) {
            $options[RequestOptions::DEBUG] = fopen($this->config->getDebugFile(), 'a');
            if (!$options[RequestOptions::DEBUG]) {
                throw new \RuntimeException('Failed to open the debug file: ' . $this->config->getDebugFile());
            }
        }

        return $options;
    }
}
